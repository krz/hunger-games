{"version":3,"file":"static/js/563.80b37c33.chunk.js","mappings":"uRAYMA,EAAc,SAACC,EAAMC,GAAP,gBACfC,EAAAA,GADe,YACEC,EAAAA,EAAAA,mBAAuBH,GADzB,YACkCC,EADlC,SAGL,SAASG,IACtB,IAAQC,GAAMC,EAAAA,EAAAA,MAAND,EACR,EAAwBE,EAAAA,SAAe,MAAvC,eAAOC,EAAP,KAAaC,EAAb,KAWA,OATAF,EAAAA,WAAgB,WACdG,IAAAA,IACO,2DACJC,MAAK,gBAAWC,EAAX,EAAGJ,KAAQI,OAAX,OAA0BH,EAAQG,EAAlC,IACLC,OAAM,WACLJ,EAAQ,GACT,GACJ,GAAE,IAEU,OAATD,GACK,uBAAIH,EAAE,6BAGb,SAAC,WAAD,WACE,SAAC,IAAD,WACE,UAAC,IAAD,CAAKS,GAAI,CAAEC,QAAS,GAApB,WACE,SAAC,IAAD,UAAaV,EAAE,2BACf,2BACGG,EAAKQ,KAAI,gBAAGhB,EAAH,EAAGA,KAAMC,EAAT,EAASA,MAAT,OACR,2BACE,yBACE,cACEgB,OAAO,SACPC,KAAMf,EAAAA,EAAAA,kBAAsBH,GAC5BmB,IAAI,aAHN,SAKGnB,OAGL,yBACE,gBACEoB,IAAKrB,EAAYC,EAAMC,GAAOoB,QAAQ,OAAQ,YAC9CC,OAAQ,IACRC,IAAI,QAGR,yBACE,SAAC,IAAD,CACEC,QAAS,WACPd,IAAAA,OAAA,iEAC4DV,GAC1D,CACEyB,KAAM,UACNjB,KAAM,CACJP,MAAAA,KAINQ,GAAQ,SAACiB,GAAD,OACNA,EAAKC,QACH,SAACC,GAAD,OAAUA,EAAK5B,OAASA,GAAQ4B,EAAK3B,QAAUA,CAA/C,GAFI,GAKT,EAhBH,UAkBE,SAAC,IAAD,CACEa,GAAI,CAAEe,OAAQ,UAAWC,MAAO,eArCxC,UAAY9B,EAAZ,YAAoBC,GADZ,YAiDrB,C,2BCpFG8B,EAAyBC,EAAQ,MAIrCC,EAAQ,OAAU,EAClB,IAAIC,EAAiBH,EAAuBC,EAAQ,OAChDG,EAAcH,EAAQ,MACtBI,GAAW,EAAIF,EAAeG,UAAuB,EAAIF,EAAYG,KAAK,OAAQ,CACpFC,EAAG,2FACD,iBACJN,EAAQ,EAAUG,C","sources":["pages/flaggedImages/index.jsx","../node_modules/@mui/icons-material/DeleteOutline.js"],"sourcesContent":["import * as React from \"react\";\n\nimport axios from \"axios\";\nimport { useTranslation } from \"react-i18next\";\nimport Box from \"@mui/material/Box\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Typography from \"@mui/material/Typography\";\nimport DeleteOutlineIcon from \"@mui/icons-material/DeleteOutline\";\n\nimport off from \"../../off\";\nimport { OFF_IMAGE_URL } from \"../../const\";\n\nconst getImageUrl = (code, imgid) =>\n  `${OFF_IMAGE_URL}/${off.getFormatedBarcode(code)}/${imgid}.jpg`;\n\nexport default function FlaggedImages() {\n  const { t } = useTranslation();\n  const [data, setData] = React.useState(null);\n\n  React.useEffect(() => {\n    axios\n      .get(\"https://amathjourney.com/api/off-annotation/flag-image/\")\n      .then(({ data: { result } }) => setData(result))\n      .catch(() => {\n        setData([]);\n      });\n  }, []);\n\n  if (data === null) {\n    return <p>{t(`flagged_images.loading`)}</p>;\n  }\n  return (\n    <React.Suspense>\n      <Box>\n        <Box sx={{ padding: 2 }}>\n          <Typography>{t(\"flagged_images.title\")}</Typography>\n          <table>\n            {data.map(({ code, imgid }) => (\n              <tr key={`${code}-${imgid}`}>\n                <td>\n                  <a\n                    target=\"_blank\"\n                    href={off.getProductEditUrl(code)}\n                    rel=\"noreferrer\"\n                  >\n                    {code}\n                  </a>\n                </td>\n                <td>\n                  <img\n                    src={getImageUrl(code, imgid).replace(\".jpg\", \".400.jpg\")}\n                    height={200}\n                    alt=\"\"\n                  />\n                </td>\n                <td>\n                  <IconButton\n                    onClick={() => {\n                      axios.delete(\n                        `https://amathjourney.com/api/off-annotation/flag-image/${code}`,\n                        {\n                          mode: \"no-cors\",\n                          data: {\n                            imgid,\n                          },\n                        }\n                      );\n                      setData((prev) =>\n                        prev.filter(\n                          (line) => line.code !== code || line.imgid !== imgid\n                        )\n                      );\n                    }}\n                  >\n                    <DeleteOutlineIcon\n                      sx={{ cursor: \"pointer\", color: \"red\" }}\n                    />\n                  </IconButton>\n                </td>\n              </tr>\n            ))}\n          </table>\n        </Box>\n      </Box>\n    </React.Suspense>\n  );\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z\"\n}), 'DeleteOutline');\nexports.default = _default;"],"names":["getImageUrl","code","imgid","OFF_IMAGE_URL","off","FlaggedImages","t","useTranslation","React","data","setData","axios","then","result","catch","sx","padding","map","target","href","rel","src","replace","height","alt","onClick","mode","prev","filter","line","cursor","color","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}