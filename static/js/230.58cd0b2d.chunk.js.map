{"version":3,"file":"static/js/230.58cd0b2d.chunk.js","mappings":"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","sources":["components/AnnotateLogoModal.tsx","hooks/matomoEvents.ts","../node_modules/@mui/material/useScrollTrigger/useScrollTrigger.js","../node_modules/@mui/material/Fab/fabClasses.js","../node_modules/@mui/material/Fab/Fab.js","components/BackToTop.tsx","pages/logos/LogoAnnotation.jsx","../node_modules/@mui/icons-material/KeyboardArrowUpRounded.js"],"sourcesContent":["import Dialog from \"@mui/material/Dialog\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport Divider from \"@mui/material/Divider\";\nimport Typography from \"@mui/material/Typography\";\n\nimport LogoForm from \"./LogoForm\";\nimport LogoGrid from \"./LogoGrid\";\nimport robotoff from \"../robotoff\";\nimport { IS_DEVELOPMENT_MODE } from \"../const\";\nimport { useMatomoTrackAnswerQuestion } from \"../hooks/matomoEvents\";\n\nconst AnnotateLogoModal = (props) => {\n  const {\n    isOpen,\n    logos,\n    closeAnnotation,\n    toggleLogoSelection,\n    afterAnnotation,\n    value = \"\",\n    type = \"\",\n    game = \"unknown\",\n  } = props;\n\n  const { annotateLogo: matomoTrackLogoAnnotation } =\n    useMatomoTrackAnswerQuestion();\n\n  const sendAnnotation = async ({ type, value }) => {\n    try {\n      if (!IS_DEVELOPMENT_MODE) {\n        await robotoff.annotateLogos(\n          logos\n            .filter((logo) => logo.selected)\n            .map(({ id }) => ({\n              logo_id: id,\n              value,\n              type,\n            }))\n        );\n        matomoTrackLogoAnnotation({\n          game,\n          type,\n          value,\n          number: logos.filter((logo) => logo.selected).length,\n        });\n      }\n      logos\n        .filter((logo) => logo.selected)\n        .forEach(({ id }) => {\n          toggleLogoSelection(id);\n        });\n      closeAnnotation();\n      afterAnnotation?.(\n        logos.filter((logo) => logo.selected),\n        { value, type }\n      );\n    } catch {}\n  };\n  return (\n    <Dialog open={isOpen} onClose={closeAnnotation} maxWidth=\"xl\">\n      <DialogContent>\n        <Typography variant=\"h5\">Selected logos</Typography>\n        <LogoGrid\n          logos={logos.filter((logo) => logo.selected)}\n          toggleLogoSelection={toggleLogoSelection}\n          sx={{ padding: 0 }}\n        />\n      </DialogContent>\n      <Divider />\n      <DialogActions>\n        <LogoForm\n          value={value}\n          type={type}\n          request={sendAnnotation}\n          sx={{ padding: [2, 4] }}\n        />\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default AnnotateLogoModal;\n","import { useMatomo } from \"@jonkoops/matomo-tracker-react\";\nimport { CORRECT_INSIGHT, WRONG_INSIGHT, SKIPPED_INSIGHT } from \"../const\";\n\nconst mapValueToAction = {\n  [CORRECT_INSIGHT]: \"yes\",\n  [WRONG_INSIGHT]: \"no\",\n  [SKIPPED_INSIGHT]: \"skip\",\n};\n\nexport const useMatomoTrackAnswerQuestion = () => {\n  const { trackEvent } = useMatomo();\n\n  return {\n    answerQuestions: (answer: -1 | 0 | 1) => {\n      trackEvent({\n        category: \"question-page\",\n        action: mapValueToAction[answer],\n      });\n    },\n    annotateLogo: ({ game, type, value, number }) => {\n      trackEvent({\n        category: \"logo\",\n        action: \"annotation\",\n        name: `${game} - ${type} - ${value}`,\n        value: number,\n      });\n    },\n  };\n};\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"getTrigger\", \"target\"];\nimport * as React from 'react';\nfunction defaultTrigger(store, options) {\n  const {\n    disableHysteresis = false,\n    threshold = 100,\n    target\n  } = options;\n  const previous = store.current;\n  if (target) {\n    // Get vertical scroll\n    store.current = target.pageYOffset !== undefined ? target.pageYOffset : target.scrollTop;\n  }\n  if (!disableHysteresis && previous !== undefined) {\n    if (store.current < previous) {\n      return false;\n    }\n  }\n  return store.current > threshold;\n}\nconst defaultTarget = typeof window !== 'undefined' ? window : null;\nexport default function useScrollTrigger(options = {}) {\n  const {\n      getTrigger = defaultTrigger,\n      target = defaultTarget\n    } = options,\n    other = _objectWithoutPropertiesLoose(options, _excluded);\n  const store = React.useRef();\n  const [trigger, setTrigger] = React.useState(() => getTrigger(store, other));\n  React.useEffect(() => {\n    const handleScroll = () => {\n      setTrigger(getTrigger(store, _extends({\n        target\n      }, other)));\n    };\n    handleScroll(); // Re-evaluate trigger when dependencies change\n    target.addEventListener('scroll', handleScroll, {\n      passive: true\n    });\n    return () => {\n      target.removeEventListener('scroll', handleScroll, {\n        passive: true\n      });\n    };\n    // See Option 3. https://github.com/facebook/react/issues/14476#issuecomment-471199055\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [target, getTrigger, JSON.stringify(other)]);\n  return trigger;\n}","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getFabUtilityClass(slot) {\n  return generateUtilityClass('MuiFab', slot);\n}\nconst fabClasses = generateUtilityClasses('MuiFab', ['root', 'primary', 'secondary', 'extended', 'circular', 'focusVisible', 'disabled', 'colorInherit', 'sizeSmall', 'sizeMedium', 'sizeLarge', 'info', 'error', 'warning', 'success']);\nexport default fabClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"color\", \"component\", \"disabled\", \"disableFocusRipple\", \"focusVisibleClassName\", \"size\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport ButtonBase from '../ButtonBase';\nimport capitalize from '../utils/capitalize';\nimport useThemeProps from '../styles/useThemeProps';\nimport fabClasses, { getFabUtilityClass } from './fabClasses';\nimport styled, { rootShouldForwardProp } from '../styles/styled';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    color,\n    variant,\n    classes,\n    size\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, `size${capitalize(size)}`, color === 'inherit' ? 'colorInherit' : color]\n  };\n  const composedClasses = composeClasses(slots, getFabUtilityClass, classes);\n  return _extends({}, classes, composedClasses);\n};\nconst FabRoot = styled(ButtonBase, {\n  name: 'MuiFab',\n  slot: 'Root',\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.variant], styles[`size${capitalize(ownerState.size)}`], ownerState.color === 'inherit' && styles.colorInherit, styles[capitalize(ownerState.size)], styles[ownerState.color]];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  var _theme$palette$getCon, _theme$palette;\n  return _extends({}, theme.typography.button, {\n    minHeight: 36,\n    transition: theme.transitions.create(['background-color', 'box-shadow', 'border-color'], {\n      duration: theme.transitions.duration.short\n    }),\n    borderRadius: '50%',\n    padding: 0,\n    minWidth: 0,\n    width: 56,\n    height: 56,\n    zIndex: (theme.vars || theme).zIndex.fab,\n    boxShadow: (theme.vars || theme).shadows[6],\n    '&:active': {\n      boxShadow: (theme.vars || theme).shadows[12]\n    },\n    color: theme.vars ? theme.vars.palette.text.primary : (_theme$palette$getCon = (_theme$palette = theme.palette).getContrastText) == null ? void 0 : _theme$palette$getCon.call(_theme$palette, theme.palette.grey[300]),\n    backgroundColor: (theme.vars || theme).palette.grey[300],\n    '&:hover': {\n      backgroundColor: (theme.vars || theme).palette.grey.A100,\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor: (theme.vars || theme).palette.grey[300]\n      },\n      textDecoration: 'none'\n    },\n    [`&.${fabClasses.focusVisible}`]: {\n      boxShadow: (theme.vars || theme).shadows[6]\n    }\n  }, ownerState.size === 'small' && {\n    width: 40,\n    height: 40\n  }, ownerState.size === 'medium' && {\n    width: 48,\n    height: 48\n  }, ownerState.variant === 'extended' && {\n    borderRadius: 48 / 2,\n    padding: '0 16px',\n    width: 'auto',\n    minHeight: 'auto',\n    minWidth: 48,\n    height: 48\n  }, ownerState.variant === 'extended' && ownerState.size === 'small' && {\n    width: 'auto',\n    padding: '0 8px',\n    borderRadius: 34 / 2,\n    minWidth: 34,\n    height: 34\n  }, ownerState.variant === 'extended' && ownerState.size === 'medium' && {\n    width: 'auto',\n    padding: '0 16px',\n    borderRadius: 40 / 2,\n    minWidth: 40,\n    height: 40\n  }, ownerState.color === 'inherit' && {\n    color: 'inherit'\n  });\n}, ({\n  theme,\n  ownerState\n}) => _extends({}, ownerState.color !== 'inherit' && ownerState.color !== 'default' && (theme.vars || theme).palette[ownerState.color] != null && {\n  color: (theme.vars || theme).palette[ownerState.color].contrastText,\n  backgroundColor: (theme.vars || theme).palette[ownerState.color].main,\n  '&:hover': {\n    backgroundColor: (theme.vars || theme).palette[ownerState.color].dark,\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: (theme.vars || theme).palette[ownerState.color].main\n    }\n  }\n}), ({\n  theme\n}) => ({\n  [`&.${fabClasses.disabled}`]: {\n    color: (theme.vars || theme).palette.action.disabled,\n    boxShadow: (theme.vars || theme).shadows[0],\n    backgroundColor: (theme.vars || theme).palette.action.disabledBackground\n  }\n}));\nconst Fab = /*#__PURE__*/React.forwardRef(function Fab(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiFab'\n  });\n  const {\n      children,\n      className,\n      color = 'default',\n      component = 'button',\n      disabled = false,\n      disableFocusRipple = false,\n      focusVisibleClassName,\n      size = 'large',\n      variant = 'circular'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    color,\n    component,\n    disabled,\n    disableFocusRipple,\n    size,\n    variant\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(FabRoot, _extends({\n    className: clsx(classes.root, className),\n    component: component,\n    disabled: disabled,\n    focusRipple: !disableFocusRipple,\n    focusVisibleClassName: clsx(classes.focusVisible, focusVisibleClassName),\n    ownerState: ownerState,\n    ref: ref\n  }, other, {\n    classes: classes,\n    children: children\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Fab.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).\n   * @default 'default'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['default', 'error', 'info', 'inherit', 'primary', 'secondary', 'success', 'warning']), PropTypes.string]),\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, the  keyboard focus ripple is disabled.\n   * @default false\n   */\n  disableFocusRipple: PropTypes.bool,\n  /**\n   * If `true`, the ripple effect is disabled.\n   */\n  disableRipple: PropTypes.bool,\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n  /**\n   * The URL to link to when the button is clicked.\n   * If defined, an `a` element will be used as the root node.\n   */\n  href: PropTypes.string,\n  /**\n   * The size of the component.\n   * `small` is equivalent to the dense button styling.\n   * @default 'large'\n   */\n  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['small', 'medium', 'large']), PropTypes.string]),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The variant to use.\n   * @default 'circular'\n   */\n  variant: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['circular', 'extended']), PropTypes.string])\n} : void 0;\nexport default Fab;","import * as React from \"react\";\nimport useScrollTrigger from \"@mui/material/useScrollTrigger\";\nimport Fab from \"@mui/material/Fab\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport KeyboardArrowUpRoundedIcon from \"@mui/icons-material/KeyboardArrowUpRounded\";\nimport Fade from \"@mui/material/Fade\";\n\nexport default function BackToTop() {\n  const [open, setOpen] = React.useState(false);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const trigger = useScrollTrigger({\n    disableHysteresis: true,\n    threshold: 200,\n  });\n\n  const handleClick = () => {\n    window.scrollTo({ top: 0 });\n    setOpen(false);\n  };\n\n  return (\n    <Fade in={trigger}>\n      <Tooltip\n        title=\"Scroll to top\"\n        open={open}\n        onClose={handleClose}\n        onOpen={handleOpen}\n      >\n        <Fab\n          sx={(theme) => ({\n            position: \"fixed\",\n            bottom: 24,\n            right: 24,\n            zIndex: 10,\n            backgroundColor: theme.palette.secondary.light,\n            boxShadow: `0px 4px 20px rgba(170, 180, 190, 0.3)`,\n            \"&:hover\": {\n              backgroundColor: undefined,\n            },\n            \"&:active\": {\n              boxShadow: `0px 4px 20px rgba(170, 180, 190, 0.6)`,\n            },\n          })}\n          size=\"small\"\n          aria-label=\"Scroll to top\"\n          onClick={handleClick}\n        >\n          <KeyboardArrowUpRoundedIcon\n            sx={{\n              color: \"black\",\n            }}\n          />\n        </Fab>\n      </Tooltip>\n    </Fade>\n  );\n}\n","import * as React from \"react\";\n\nimport Stack from \"@mui/material/Stack\";\nimport Box from \"@mui/material/Box\";\nimport Button from \"@mui/material/Button\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport Typography from \"@mui/material/Typography\";\nimport LoadingButton from \"@mui/lab/LoadingButton\";\nimport { useTheme } from \"@mui/material/styles\";\n\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\nimport robotoff from \"../../robotoff\";\nimport off from \"../../off\";\nimport LogoGrid from \"../../components/LogoGrid\";\nimport BackToTop from \"../../components/BackToTop\";\nimport useUrlParams from \"../../hooks/useUrlParams\";\nimport AnnotateLogoModal from \"../../components/AnnotateLogoModal\";\n\nexport const getQuestionSearchParams = (logoSearchState) => {\n  const urlParams = new URLSearchParams(window.location.search);\n\n  Object.keys(DEFAULT_LOGO_SEARCH_STATE).forEach((key) => {\n    if (urlParams.get(key) !== undefined && !logoSearchState[key]) {\n      urlParams.delete(key);\n    } else if (\n      logoSearchState[key] &&\n      urlParams.get(key) !== logoSearchState[key]\n    ) {\n      urlParams.set(key, logoSearchState[key]);\n    }\n  });\n  return urlParams.toString();\n};\n\nconst DEFAULT_LOGO_SEARCH_STATE = {\n  count: 50,\n  logo_id: \"\",\n  index: \"\",\n};\n\nconst loadLogos = async (\n  targetLogoId,\n  index,\n  annotationCount = 50,\n  alreadyLoadedData = []\n) => {\n  const {\n    data: { results, query_logo_id },\n  } = await robotoff.getLogoAnnotations(targetLogoId, index, annotationCount);\n\n  results.unshift({ logo_id: Number.parseInt(query_logo_id), distance: 0 });\n\n  const seenIds = {};\n  alreadyLoadedData.forEach(({ id }) => {\n    seenIds[id] = true;\n  });\n  const filteredResults = results.filter(({ logo_id }) => !seenIds[logo_id]);\n\n  const {\n    data: { logos: logoImages },\n  } = await robotoff.getLogosImages(filteredResults.map((r) => r.logo_id));\n\n  const logoData = filteredResults.map(({ logo_id, distance }) => {\n    const annotation = logoImages.find(({ id }) => id === logo_id);\n    const image = annotation.image;\n    const src = robotoff.getCroppedImageUrl(\n      off.getImageUrl(image.source_image),\n      annotation.bounding_box\n    );\n\n    return {\n      distance,\n      ...annotation,\n      image: { ...image, src },\n    };\n  });\n\n  return logoData;\n};\n\nconst DEFAULT_LOGO_STATE = { logos: [], isLoading: true, referenceLogo: {} };\nexport default function LogoAnnotation() {\n  const { t } = useTranslation();\n  const theme = useTheme();\n\n  const [logoSearchParams] = useUrlParams(DEFAULT_LOGO_SEARCH_STATE, {});\n\n  const [logoState, setLogoState] = React.useState(DEFAULT_LOGO_STATE);\n\n  // Restart fetching with higher count\n  const [additionalLogos, setAdditionalLogos] = React.useState(0);\n  const addMoreLogos = async (toAdd) => {\n    const newAdditional = additionalLogos + toAdd;\n    if (newAdditional > 500) {\n      return;\n    }\n    setAdditionalLogos(newAdditional);\n    setLogoState((prev) => ({ ...prev, isLoading: true }));\n\n    loadLogos(\n      logoSearchParams.logo_id,\n      logoSearchParams.index,\n      logoSearchParams.count + newAdditional,\n      logoState.logos\n    )\n      .then((logoData) => {\n        setLogoState((prev) => ({\n          ...prev,\n          isLoading: false,\n          logos: [\n            ...prev.logos,\n            ...logoData.map((logo) => ({\n              ...logo,\n              selected: false,\n            })),\n          ],\n        }));\n      })\n      .catch(() => {});\n  };\n\n  React.useEffect(() => {\n    let isValid = true;\n    setLogoState({ isLoading: true, ...DEFAULT_LOGO_STATE });\n    loadLogos(\n      logoSearchParams.logo_id,\n      logoSearchParams.index,\n      logoSearchParams.count\n    )\n      .then((logoData) => {\n        if (!isValid) return;\n        setLogoState({\n          isLoading: false,\n          logos: logoData.map((logo) => ({\n            ...logo,\n            selected: logoSearchParams.logo_id === logo.id.toString(),\n          })),\n          referenceLogo:\n            logoData.find(\n              (logo) => logo.id.toString() === logoSearchParams.logo_id\n            ) || {},\n        });\n      })\n      .catch(() => {\n        if (!isValid) return;\n        setLogoState(DEFAULT_LOGO_STATE);\n      });\n    return () => {\n      isValid = false;\n    };\n  }, [\n    logoSearchParams.count,\n    logoSearchParams.logo_id,\n    logoSearchParams.index,\n  ]);\n\n  const toggleSelection = React.useCallback(\n    (id) => {\n      if (id.toString() === logoSearchParams.logo_id) {\n        return;\n      }\n      setLogoState((state) => {\n        const indexToToggle = state.logos.findIndex((logo) => logo.id === id);\n        if (indexToToggle < 0) {\n          return state;\n        }\n        return {\n          ...state,\n          logos: [\n            ...state.logos.slice(0, indexToToggle),\n            {\n              ...state.logos[indexToToggle],\n              selected: !state.logos[indexToToggle].selected,\n            },\n            ...state.logos.slice(indexToToggle + 1),\n          ],\n        };\n      });\n    },\n    [logoSearchParams.logo_id]\n  );\n\n  const setRangeSelection = React.useCallback((ids, newSelectedState) => {\n    const shouldBeSet = {};\n    ids.forEach((id) => (shouldBeSet[id] = true));\n\n    setLogoState((state) => {\n      return {\n        ...state,\n        logos: state.logos.map((logo) =>\n          shouldBeSet[logo.id]\n            ? {\n                ...logo,\n                selected: newSelectedState,\n              }\n            : logo\n        ),\n      };\n    });\n  }, []);\n\n  const selectAll = () => {\n    setLogoState((prevState) => ({\n      ...prevState,\n      logos: prevState.logos.map((logo, index) => {\n        if (logo.annotation_value === null) {\n          logo.selected = true;\n        }\n        return logo;\n      }),\n    }));\n  };\n\n  const unselectAll = () => {\n    setLogoState((prevState) => ({\n      ...prevState,\n      logos: prevState.logos.map((logo) => ({\n        ...logo,\n        selected: logo.id.toString() === logoSearchParams.logo_id,\n      })),\n    }));\n  };\n\n  const [isRefreshing, setIsRefreshing] = React.useState(false);\n  const refreshData = async () => {\n    setIsRefreshing(true);\n    try {\n      const logoData = await loadLogos(\n        logoSearchParams.logo_id,\n        logoSearchParams.index,\n        logoSearchParams.count\n      );\n      setLogoState({\n        isLoading: false,\n        logos: logoData.map((logo) => ({\n          ...logo,\n          selected: logoSearchParams.logo_id === logo.id.toString(),\n        })),\n        referenceLogo:\n          logoData.find(\n            (logo) => logo.id.toString() === logoSearchParams.logo_id\n          ) || {},\n      });\n    } catch {\n      setLogoState(DEFAULT_LOGO_STATE);\n    }\n\n    setIsRefreshing(false);\n  };\n\n  const [isAnnotationOpen, setIsAnnotationOpen] = React.useState(false);\n  const openAnnotation = React.useCallback(() => {\n    setIsAnnotationOpen(true);\n  }, []);\n  const closeAnnotation = React.useCallback(() => {\n    setIsAnnotationOpen(false);\n  }, []);\n\n  const selectedIds = logoState.logos\n    .filter((logo) => logo.selected)\n    .map((logo) => logo.id);\n\n  if (logoState.isLoading) {\n    <p>{t(\"logos.loading\")}</p>;\n  }\n\n  return (\n    <React.Suspense fallback={<CircularProgress />}>\n      <Box sx={{ margin: \"2% 10%\" }}>\n        <Typography\n          typography=\"h2\"\n          sx={{\n            fontSize: \"1.5rem\",\n            fontWeight: 600,\n            marginBottom: 2,\n          }}\n        >\n          {t(\"logos.annotations\")}\n        </Typography>\n        <Typography>{t(\"logos.task_description\")}</Typography>\n        <Box\n          sx={{\n            position: \"sticky\",\n            top: 0,\n            zIndex: 1,\n            paddingY: 2,\n            background: `linear-gradient(0deg, ${theme.palette.background.paper}00 0%, ${theme.palette.background.paper}FF 25px, ${theme.palette.background.paper}FF 100%)`,\n            backdropFilter: \"blur(5px)\",\n          }}\n          elevation={0}\n        >\n          {/* Selection buttons */}\n          <Stack direction=\"row\" spacing={1} sx={{ my: 1 }}>\n            <Button variant=\"outlined\" size=\"small\" onClick={selectAll}>\n              {t(\"logos.select_all\")}\n            </Button>\n            <Button\n              variant=\"outlined\"\n              size=\"small\"\n              disabled={\n                selectedIds.length === 0 ||\n                (selectedIds.length === 1 &&\n                  selectedIds[0].toString() === logoSearchParams.logo_id)\n              }\n              onClick={unselectAll}\n            >\n              {t(\"logos.unselect_all\")}\n            </Button>\n            <LoadingButton\n              variant=\"outlined\"\n              size=\"small\"\n              onClick={refreshData}\n              loading={isRefreshing}\n            >\n              {t(\"logos.refresh\")}\n            </LoadingButton>\n            <div style={{ flexGrow: 1 }} />\n            <Button\n              size=\"small\"\n              variant=\"contained\"\n              color=\"secondary\"\n              component={Link}\n              to=\"/logos/search/\"\n            >\n              {t(\"logos.search_specific\")}\n            </Button>\n          </Stack>\n        </Box>\n\n        {logoState.isLoading && (\n          <Box sx={{ width: \"100%\", textAlign: \"center\", py: 10 }}>\n            <CircularProgress />\n          </Box>\n        )}\n        {/* Logos to select */}\n        <LogoGrid\n          logos={logoState.logos}\n          toggleLogoSelection={toggleSelection}\n          setLogoSelectionRange={setRangeSelection}\n          sx={{ justifyContent: \"center\" }}\n        />\n        <Box sx={{ my: 5, textAlign: \"center\" }}>\n          <Button\n            fullWidth\n            variant=\"contained\"\n            disabled={logoState.isLoading || additionalLogos + 50 > 500}\n            onClick={() => {\n              addMoreLogos(50);\n            }}\n          >\n            {t(\"logos.load_more\")}\n          </Button>\n        </Box>\n\n        <Box sx={{ my: 5, textAlign: \"center\", position: \"sticky\", bottom: 0 }}>\n          <Button\n            fullWidth\n            onClick={openAnnotation}\n            color=\"success\"\n            variant=\"contained\"\n          >\n            Annotate\n          </Button>\n        </Box>\n\n        <AnnotateLogoModal\n          game=\"logoAnnotation\"\n          value={logoState.referenceLogo.annotation_value ?? \"\"}\n          type={logoState.referenceLogo.annotation_type ?? \"\"}\n          isOpen={isAnnotationOpen}\n          logos={logoState.logos}\n          closeAnnotation={closeAnnotation}\n          toggleLogoSelection={toggleSelection}\n          afterAnnotation={(selectedLogos, annotation) => {\n            const logoIds = selectedLogos.map((l) => l.id);\n\n            setLogoState((prevState) => ({\n              ...prevState,\n              logos: prevState.logos.map((logo) => {\n                if (!logoIds.includes(logo.id)) {\n                  return logo;\n                }\n                return {\n                  ...logo,\n                  selected: false,\n                  annotation_type: annotation.type,\n                  annotation_value: annotation.value,\n                };\n              }),\n            }));\n          }}\n        />\n        <BackToTop />\n      </Box>\n    </React.Suspense>\n  );\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M8.12 14.71 12 10.83l3.88 3.88c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L12.7 8.71a.9959.9959 0 0 0-1.41 0L6.7 13.3c-.39.39-.39 1.02 0 1.41.39.38 1.03.39 1.42 0z\"\n}), 'KeyboardArrowUpRounded');\nexports.default = _default;"],"names":["props","isOpen","logos","closeAnnotation","toggleLogoSelection","afterAnnotation","value","type","game","matomoTrackLogoAnnotation","useMatomoTrackAnswerQuestion","annotateLogo","sendAnnotation","IS_DEVELOPMENT_MODE","robotoff","filter","logo","selected","map","logo_id","id","number","length","forEach","open","onClose","maxWidth","variant","sx","padding","request","mapValueToAction","CORRECT_INSIGHT","WRONG_INSIGHT","SKIPPED_INSIGHT","trackEvent","useMatomo","answerQuestions","answer","category","action","name","_excluded","defaultTrigger","store","options","disableHysteresis","threshold","target","previous","current","undefined","pageYOffset","scrollTop","defaultTarget","window","getFabUtilityClass","slot","generateUtilityClass","generateUtilityClasses","FabRoot","styled","ButtonBase","shouldForwardProp","prop","rootShouldForwardProp","overridesResolver","styles","ownerState","root","capitalize","size","color","colorInherit","_theme$palette$getCon","_theme$palette","theme","_extends","typography","button","minHeight","transition","transitions","create","duration","short","borderRadius","minWidth","width","height","zIndex","vars","fab","boxShadow","shadows","palette","text","primary","getContrastText","call","grey","backgroundColor","A100","textDecoration","fabClasses","contrastText","main","dark","disabled","disabledBackground","React","inProps","ref","useThemeProps","children","className","component","disableFocusRipple","focusVisibleClassName","other","_objectWithoutPropertiesLoose","classes","slots","composedClasses","composeClasses","useUtilityClasses","_jsx","clsx","focusRipple","focusVisible","BackToTop","setOpen","trigger","getTrigger","setTrigger","handleScroll","addEventListener","passive","removeEventListener","JSON","stringify","useScrollTrigger","Fade","in","Tooltip","title","onOpen","position","bottom","right","secondary","light","onClick","scrollTo","top","KeyboardArrowUpRounded","getQuestionSearchParams","logoSearchState","urlParams","URLSearchParams","location","search","Object","keys","DEFAULT_LOGO_SEARCH_STATE","key","get","set","delete","toString","count","index","loadLogos","targetLogoId","annotationCount","alreadyLoadedData","data","results","query_logo_id","unshift","Number","parseInt","distance","seenIds","filteredResults","r","logoImages","logoData","annotation","find","image","src","off","source_image","bounding_box","DEFAULT_LOGO_STATE","isLoading","referenceLogo","LogoAnnotation","t","useTranslation","useTheme","useUrlParams","logoSearchParams","logoState","setLogoState","additionalLogos","setAdditionalLogos","addMoreLogos","toAdd","newAdditional","prev","then","catch","isValid","toggleSelection","state","indexToToggle","findIndex","slice","setRangeSelection","ids","newSelectedState","shouldBeSet","isRefreshing","setIsRefreshing","refreshData","isAnnotationOpen","setIsAnnotationOpen","openAnnotation","selectedIds","fallback","CircularProgress","Box","margin","Typography","fontSize","fontWeight","marginBottom","paddingY","background","paper","backdropFilter","elevation","Stack","direction","spacing","my","Button","prevState","annotation_value","LoadingButton","loading","style","flexGrow","Link","to","textAlign","py","LogoGrid","setLogoSelectionRange","justifyContent","fullWidth","AnnotateLogoModal","annotation_type","selectedLogos","logoIds","l","includes","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}