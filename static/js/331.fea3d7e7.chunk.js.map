{"version":3,"file":"static/js/331.fea3d7e7.chunk.js","mappings":"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","sources":["components/AnnotateLogoModal.tsx","hooks/matomoEvents.ts","pages/logos/LogoDeepSearch.jsx","../node_modules/@mui/material/LinearProgress/linearProgressClasses.js","../node_modules/@mui/material/LinearProgress/LinearProgress.js"],"sourcesContent":["import Dialog from \"@mui/material/Dialog\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport Divider from \"@mui/material/Divider\";\nimport Typography from \"@mui/material/Typography\";\n\nimport LogoForm from \"./LogoForm\";\nimport LogoGrid from \"./LogoGrid\";\nimport robotoff from \"../robotoff\";\nimport { IS_DEVELOPMENT_MODE } from \"../const\";\nimport { useMatomoTrackAnswerQuestion } from \"../hooks/matomoEvents\";\n\nconst AnnotateLogoModal = (props) => {\n  const {\n    isOpen,\n    logos,\n    closeAnnotation,\n    toggleLogoSelection,\n    afterAnnotation,\n    value = \"\",\n    type = \"\",\n    game = \"unknown\",\n  } = props;\n\n  const { annotateLogo: matomoTrackLogoAnnotation } =\n    useMatomoTrackAnswerQuestion();\n\n  const sendAnnotation = async ({ type, value }) => {\n    try {\n      if (!IS_DEVELOPMENT_MODE) {\n        await robotoff.annotateLogos(\n          logos\n            .filter((logo) => logo.selected)\n            .map(({ id }) => ({\n              logo_id: id,\n              value,\n              type,\n            }))\n        );\n        matomoTrackLogoAnnotation({\n          game,\n          type,\n          value,\n          number: logos.filter((logo) => logo.selected).length,\n        });\n      }\n      logos\n        .filter((logo) => logo.selected)\n        .forEach(({ id }) => {\n          toggleLogoSelection(id);\n        });\n      closeAnnotation();\n      afterAnnotation?.(\n        logos.filter((logo) => logo.selected),\n        { value, type }\n      );\n    } catch {}\n  };\n  return (\n    <Dialog open={isOpen} onClose={closeAnnotation} maxWidth=\"xl\">\n      <DialogContent>\n        <Typography variant=\"h5\">Selected logos</Typography>\n        <LogoGrid\n          logos={logos.filter((logo) => logo.selected)}\n          toggleLogoSelection={toggleLogoSelection}\n          sx={{ padding: 0 }}\n        />\n      </DialogContent>\n      <Divider />\n      <DialogActions>\n        <LogoForm\n          value={value}\n          type={type}\n          request={sendAnnotation}\n          sx={{ padding: [2, 4] }}\n        />\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default AnnotateLogoModal;\n","import { useMatomo } from \"@jonkoops/matomo-tracker-react\";\nimport { CORRECT_INSIGHT, WRONG_INSIGHT, SKIPPED_INSIGHT } from \"../const\";\n\nconst mapValueToAction = {\n  [CORRECT_INSIGHT]: \"yes\",\n  [WRONG_INSIGHT]: \"no\",\n  [SKIPPED_INSIGHT]: \"skip\",\n};\n\nexport const useMatomoTrackAnswerQuestion = () => {\n  const { trackEvent } = useMatomo();\n\n  return {\n    answerQuestions: (answer: -1 | 0 | 1) => {\n      trackEvent({\n        category: \"question-page\",\n        action: mapValueToAction[answer],\n      });\n    },\n    annotateLogo: ({ game, type, value, number }) => {\n      trackEvent({\n        category: \"logo\",\n        action: \"annotation\",\n        name: `${game} - ${type} - ${value}`,\n        value: number,\n      });\n    },\n  };\n};\n","import * as React from \"react\";\n\nimport Box from \"@mui/material/Box\";\nimport Divider from \"@mui/material/Divider\";\nimport Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\nimport Paper from \"@mui/material/Paper\";\nimport Link from \"@mui/material/Link\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport LinearProgress from \"@mui/material/LinearProgress\";\n\nimport LogoGrid from \"../../components/LogoGrid\";\nimport LogoForm from \"../../components/LogoForm\";\nimport robotoff from \"../../robotoff\";\nimport off from \"../../off\";\nimport useUrlParams from \"../../hooks/useUrlParams\";\nimport AnnotateLogoModal from \"../../components/AnnotateLogoModal\";\nimport { useTranslation } from \"react-i18next\";\n\nconst DEFAULT_COUNT = 25;\n\nconst transformLogo = (logo) => {\n  const src =\n    logo.image.url ||\n    robotoff.getCroppedImageUrl(\n      off.getImageUrl(logo.image.source_image),\n      logo.bounding_box\n    );\n\n  return { ...logo, image: { ...logo.image, src } };\n};\n\nconst request = async ({ barcode, value, type, count }) => {\n  const { data } = await robotoff.searchLogos(\n    barcode,\n    value,\n    type,\n    Number.parseInt(count),\n    true\n  );\n\n  return {\n    logos: data.logos.map(transformLogo),\n    count: data.count,\n  };\n};\n\nconst LoadingReferenceLogos = () => {\n  const { t } = useTranslation();\n  return (\n    <Box sx={{ width: \"100%\", textAlign: \"center\", py: 5, m: 0 }}>\n      <Typography variant=\"subtitle1\">\n        {t(\"logos.loading_messages.pending_reference_logos\")}\n      </Typography>\n      <br />\n      <CircularProgress />\n    </Box>\n  );\n};\n\nconst FailedReferecnceLogos = ({ type, value }) => {\n  const { t } = useTranslation();\n\n  return (\n    <Box sx={{ width: \"100%\", textAlign: \"center\", py: 5, m: 0 }}>\n      <Typography variant=\"subtitle1\">\n        {t(\"logos.loading_messages.failed_reference_logos\")}\n      </Typography>\n      <Button\n        color=\"secondary\"\n        size=\"small\"\n        component={Link}\n        variant=\"contained\"\n        href={`/logos/product-search?tag=${value}&tagtype=${type}`}\n        target=\"_blank\"\n        sx={{ ml: 2, minWidth: 150 }}\n      >\n        Search\n      </Button>\n    </Box>\n  );\n};\n\nexport default function LogoSearch() {\n  const [annotatedLogos, setAnnotatedLogos] = React.useState([]);\n  const [logosToAnnotate, setLogosToAnnotate] = React.useState([]);\n  // TODO: allows to fetch more when reaching data limit\n  const [searchCount] = React.useState(DEFAULT_COUNT);\n  const [searchState, setSearchState] = useUrlParams(\n    { type: \"\", value: \"\" },\n    {\n      value: [\"valueTag\", \"value_tag\"],\n    }\n  );\n  const pageSize = 50;\n  const [page, setPage] = React.useState(1);\n  const [isLoadingAnnotatedLogos, setIsLoadingAnnotatedLogos] =\n    React.useState(true);\n  const [isLoadingToAnnotateLogos, setIsLoadingToAnnotateLogos] =\n    React.useState(false);\n\n  const setNewSearchState = ({ type, value }) => {\n    setSearchState(DEFAULT_COUNT);\n    setAnnotatedLogos([]);\n    setLogosToAnnotate([]);\n    setSearchState({ type, value });\n  };\n\n  React.useEffect(() => {\n    let isValid = true;\n    const fetchMoreAnnotatedLogos = async () => {\n      try {\n        const { logos } = await request({\n          ...searchState,\n          count: searchCount,\n        });\n        if (!isValid) {\n          return;\n        }\n\n        setAnnotatedLogos((prev) => {\n          const ids = prev.map((logo) => logo.id);\n          return [\n            ...prev,\n            ...logos\n              .filter((logo) => !ids.includes(logo.id))\n              .map(transformLogo),\n          ];\n        });\n      } catch (error) {}\n    };\n\n    setIsLoadingAnnotatedLogos(true);\n    fetchMoreAnnotatedLogos()\n      .then(() => {\n        if (isValid) {\n          setIsLoadingAnnotatedLogos(false);\n        }\n      })\n      .catch(() => {\n        if (isValid) {\n          setIsLoadingAnnotatedLogos(false);\n        }\n      });\n\n    return () => {\n      isValid = false;\n    };\n  }, [searchState, searchCount]);\n\n  const nextLogoToFetchId = annotatedLogos.find((logo) => !logo.fetched)?.id;\n\n  React.useEffect(() => {\n    let isValid = true;\n    const fetchLogosToAnnotate = async () => {\n      if ((page + 1) * pageSize <= logosToAnnotate.length) {\n        // We already have one page in advance\n        return;\n      }\n      if (nextLogoToFetchId == null) {\n        // no more logos to fetch\n        return;\n      }\n      const {\n        data: { results },\n      } = await robotoff.getLogoAnnotations(\n        JSON.stringify(nextLogoToFetchId),\n        \"\",\n        50\n      );\n      if (!isValid) {\n        return;\n      }\n      const {\n        data: { logos: logoImages },\n      } = await robotoff.getLogosImages(results.map((r) => r.logo_id));\n      if (!isValid) {\n        return;\n      }\n\n      const logoId2Distance = {};\n      results.forEach(({ logo_id, distance }) => {\n        logoId2Distance[logo_id] = distance;\n      });\n\n      const notAnnotatedLogos = logoImages\n        .filter(\n          ({ annotation_type, annotation_value, annotation_value_tag }) =>\n            annotation_type == null &&\n            annotation_value == null &&\n            annotation_value_tag == null\n        )\n        .map(transformLogo)\n        .map((logo) => ({ ...logo, distance: logoId2Distance[logo.id] }));\n\n      setLogosToAnnotate((prev) => {\n        const seenIds = {};\n        prev.forEach(({ id }) => (seenIds[id] = true));\n        const alreadyVisible = prev.slice(0, page * pageSize);\n        const hidden = [\n          ...prev.slice(page * pageSize, prev.length),\n          ...notAnnotatedLogos.filter(({ id }) => !seenIds[id]),\n        ].sort((a, b) => a.distance - b.distance);\n\n        setAnnotatedLogos((prev) =>\n          prev.map((logo) =>\n            logo.id === nextLogoToFetchId ? { ...logo, fetched: true } : logo\n          )\n        );\n        return [...alreadyVisible, ...hidden];\n      });\n    };\n\n    setIsLoadingToAnnotateLogos(true);\n    fetchLogosToAnnotate()\n      .then(() => {\n        if (isValid) {\n          setIsLoadingToAnnotateLogos(false);\n        }\n      })\n      .catch(() => {\n        if (isValid) {\n          setIsLoadingToAnnotateLogos(false);\n        }\n      });\n\n    return () => {\n      isValid = false;\n    };\n  }, [logosToAnnotate.length, nextLogoToFetchId, page]);\n\n  const toggleSelection = React.useCallback((id) => {\n    setLogosToAnnotate((logos) => {\n      const indexToToggle = logos.findIndex((logo) => logo.id === id);\n      if (indexToToggle < 0) {\n        return logos;\n      }\n      return [\n        ...logos.slice(0, indexToToggle),\n        {\n          ...logos[indexToToggle],\n          selected: !logos[indexToToggle].selected,\n        },\n        ...logos.slice(indexToToggle + 1),\n      ];\n    });\n  }, []);\n\n  const setRangeSelection = React.useCallback((ids, newSelectedState) => {\n    setLogosToAnnotate((logos) => {\n      const shouldBeSet = {};\n      ids.forEach((id) => (shouldBeSet[id] = true));\n\n      return logos.map((logo) =>\n        shouldBeSet[logo.id]\n          ? {\n              ...logo,\n              selected: newSelectedState,\n            }\n          : logo\n      );\n    });\n  }, []);\n\n  const afterAnnotation = (annotatedLogos) => {\n    const annotatedIds = {};\n    annotatedLogos.forEach(({ id }) => (annotatedIds[id] = true));\n    setAnnotatedLogos((prev) => [...prev, ...annotatedLogos]);\n    setLogosToAnnotate((prev) => prev.filter((logo) => !annotatedIds[logo.id]));\n  };\n\n  const selectAllOnPage = () => {\n    setLogosToAnnotate((prev) =>\n      prev.map((logo, index) => ({\n        ...logo,\n        selected:\n          index < page * pageSize && index >= (page - 1) * pageSize\n            ? true\n            : logo.selected,\n      }))\n    );\n  };\n\n  const [isAnnotationOpen, setIsAnnotationOpen] = React.useState(false);\n  const openAnnotation = React.useCallback(() => {\n    setIsAnnotationOpen(true);\n  }, []);\n  const closeAnnotation = React.useCallback(() => {\n    setIsAnnotationOpen(false);\n  }, []);\n\n  const deselectAll = () => {\n    setLogosToAnnotate((prev) =>\n      prev.map((logo) => ({\n        ...logo,\n        selected: false,\n      }))\n    );\n  };\n\n  return (\n    <React.Suspense fallback={<CircularProgress />}>\n      <Box sx={{ padding: 2 }}>\n        <Typography variant=\"h4\" sx={{ mb: 2 }}>\n          Logo search\n        </Typography>\n        <Typography variant=\"body1\">\n          Select a logo you want to look for, and let's go to catch them all.\n          For every logo you annotate, we will fetch it's neighbors such that\n          you might never stop to annotate. (Press Shift to select range of\n          logos)\n        </Typography>\n        <Divider sx={{ my: 3 }} />\n        <LogoForm {...searchState} request={setNewSearchState} />\n        {/* {isLoading && <LinearProgress sx={{ mt: 5 }} />} */}\n\n        <Typography variant=\"h5\" sx={{ mt: 5, mb: 1 }}>\n          Reference logos (logo already annotated with this value)\n        </Typography>\n\n        {isLoadingAnnotatedLogos ? (\n          <LoadingReferenceLogos />\n        ) : annotatedLogos == null || annotatedLogos.length === 0 ? (\n          <FailedReferecnceLogos {...searchState} />\n        ) : (\n          <LogoGrid\n            logos={annotatedLogos.slice(0, 5)}\n            toggleLogoSelection={null}\n            readOnly\n            sx={{ pt: 0 }}\n          />\n        )}\n\n        <Divider sx={{ my: 3 }} />\n\n        <Box sx={{ display: \"flex\", flexDirection: \"row\", gap: 1 }}>\n          <Typography variant=\"h5\" sx={{ mt: 5, mb: 1 }}>\n            Remaining to annotate\n          </Typography>\n          <Button\n            onClick={selectAllOnPage}\n            variant=\"contained\"\n            sx={{ ml: \"auto\", maxHeight: 40, mt: \"40px\", mb: \"8px\" }} // to align with \"Remaining to annotate\"\n          >\n            Select All\n          </Button>\n          <Button\n            onClick={deselectAll}\n            variant=\"contained\"\n            sx={{ maxHeight: 40, mt: \"40px\", mb: \"8px\" }}\n          >\n            Deselect All\n          </Button>\n        </Box>\n\n        {isLoadingToAnnotateLogos && <LinearProgress />}\n        <LogoGrid\n          logos={logosToAnnotate.slice((page - 1) * pageSize, page * pageSize)}\n          toggleLogoSelection={toggleSelection}\n          setLogoSelectionRange={setRangeSelection}\n          sx={{ pt: 0 }}\n        />\n\n        <Paper\n          elevation={0}\n          sx={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            gap: 1,\n            position: \"sticky\",\n            bottom: 0,\n            py: 2,\n          }}\n        >\n          <Button\n            disabled={page === 1}\n            onClick={() => setPage((p) => Math.max(1, p - 1))}\n            variant=\"contained\"\n            sx={{ width: 200 }}\n          >\n            prev\n          </Button>\n          <Button\n            fullWidth\n            onClick={openAnnotation}\n            color=\"success\"\n            variant=\"contained\"\n          >\n            Annotate\n          </Button>\n          <Button\n            variant=\"contained\"\n            sx={{ width: 200 }}\n            onClick={() => setPage((p) => p + 1)}\n            disabled={page * pageSize > logosToAnnotate.length}\n          >\n            next\n          </Button>\n        </Paper>\n\n        <AnnotateLogoModal\n          game=\"logoDeepSearch\"\n          isOpen={isAnnotationOpen}\n          logos={logosToAnnotate}\n          closeAnnotation={closeAnnotation}\n          toggleLogoSelection={toggleSelection}\n          afterAnnotation={afterAnnotation}\n          {...searchState}\n        />\n      </Box>\n    </React.Suspense>\n  );\n}\n","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getLinearProgressUtilityClass(slot) {\n  return generateUtilityClass('MuiLinearProgress', slot);\n}\nconst linearProgressClasses = generateUtilityClasses('MuiLinearProgress', ['root', 'colorPrimary', 'colorSecondary', 'determinate', 'indeterminate', 'buffer', 'query', 'dashed', 'dashedColorPrimary', 'dashedColorSecondary', 'bar', 'barColorPrimary', 'barColorSecondary', 'bar1Indeterminate', 'bar1Determinate', 'bar1Buffer', 'bar2Indeterminate', 'bar2Buffer']);\nexport default linearProgressClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"color\", \"value\", \"valueBuffer\", \"variant\"];\nlet _ = t => t,\n  _t,\n  _t2,\n  _t3,\n  _t4,\n  _t5,\n  _t6;\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { keyframes, css, darken, lighten } from '@mui/system';\nimport capitalize from '../utils/capitalize';\nimport useTheme from '../styles/useTheme';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getLinearProgressUtilityClass } from './linearProgressClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst TRANSITION_DURATION = 4; // seconds\nconst indeterminate1Keyframe = keyframes(_t || (_t = _`\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n`));\nconst indeterminate2Keyframe = keyframes(_t2 || (_t2 = _`\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n`));\nconst bufferKeyframe = keyframes(_t3 || (_t3 = _`\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n`));\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    variant,\n    color\n  } = ownerState;\n  const slots = {\n    root: ['root', `color${capitalize(color)}`, variant],\n    dashed: ['dashed', `dashedColor${capitalize(color)}`],\n    bar1: ['bar', `barColor${capitalize(color)}`, (variant === 'indeterminate' || variant === 'query') && 'bar1Indeterminate', variant === 'determinate' && 'bar1Determinate', variant === 'buffer' && 'bar1Buffer'],\n    bar2: ['bar', variant !== 'buffer' && `barColor${capitalize(color)}`, variant === 'buffer' && `color${capitalize(color)}`, (variant === 'indeterminate' || variant === 'query') && 'bar2Indeterminate', variant === 'buffer' && 'bar2Buffer']\n  };\n  return composeClasses(slots, getLinearProgressUtilityClass, classes);\n};\nconst getColorShade = (theme, color) => {\n  if (color === 'inherit') {\n    return 'currentColor';\n  }\n  if (theme.vars) {\n    return theme.vars.palette.LinearProgress[`${color}Bg`];\n  }\n  return theme.palette.mode === 'light' ? lighten(theme.palette[color].main, 0.62) : darken(theme.palette[color].main, 0.5);\n};\nconst LinearProgressRoot = styled('span', {\n  name: 'MuiLinearProgress',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[`color${capitalize(ownerState.color)}`], styles[ownerState.variant]];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  position: 'relative',\n  overflow: 'hidden',\n  display: 'block',\n  height: 4,\n  zIndex: 0,\n  // Fix Safari's bug during composition of different paint.\n  '@media print': {\n    colorAdjust: 'exact'\n  },\n  backgroundColor: getColorShade(theme, ownerState.color)\n}, ownerState.color === 'inherit' && ownerState.variant !== 'buffer' && {\n  backgroundColor: 'none',\n  '&::before': {\n    content: '\"\"',\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'currentColor',\n    opacity: 0.3\n  }\n}, ownerState.variant === 'buffer' && {\n  backgroundColor: 'transparent'\n}, ownerState.variant === 'query' && {\n  transform: 'rotate(180deg)'\n}));\nconst LinearProgressDashed = styled('span', {\n  name: 'MuiLinearProgress',\n  slot: 'Dashed',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.dashed, styles[`dashedColor${capitalize(ownerState.color)}`]];\n  }\n})(({\n  ownerState,\n  theme\n}) => {\n  const backgroundColor = getColorShade(theme, ownerState.color);\n  return _extends({\n    position: 'absolute',\n    marginTop: 0,\n    height: '100%',\n    width: '100%'\n  }, ownerState.color === 'inherit' && {\n    opacity: 0.3\n  }, {\n    backgroundImage: `radial-gradient(${backgroundColor} 0%, ${backgroundColor} 16%, transparent 42%)`,\n    backgroundSize: '10px 10px',\n    backgroundPosition: '0 -23px'\n  });\n}, css(_t4 || (_t4 = _`\n    animation: ${0} 3s infinite linear;\n  `), bufferKeyframe));\nconst LinearProgressBar1 = styled('span', {\n  name: 'MuiLinearProgress',\n  slot: 'Bar1',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.bar, styles[`barColor${capitalize(ownerState.color)}`], (ownerState.variant === 'indeterminate' || ownerState.variant === 'query') && styles.bar1Indeterminate, ownerState.variant === 'determinate' && styles.bar1Determinate, ownerState.variant === 'buffer' && styles.bar1Buffer];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  width: '100%',\n  position: 'absolute',\n  left: 0,\n  bottom: 0,\n  top: 0,\n  transition: 'transform 0.2s linear',\n  transformOrigin: 'left',\n  backgroundColor: ownerState.color === 'inherit' ? 'currentColor' : (theme.vars || theme).palette[ownerState.color].main\n}, ownerState.variant === 'determinate' && {\n  transition: `transform .${TRANSITION_DURATION}s linear`\n}, ownerState.variant === 'buffer' && {\n  zIndex: 1,\n  transition: `transform .${TRANSITION_DURATION}s linear`\n}), ({\n  ownerState\n}) => (ownerState.variant === 'indeterminate' || ownerState.variant === 'query') && css(_t5 || (_t5 = _`\n      width: auto;\n      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    `), indeterminate1Keyframe));\nconst LinearProgressBar2 = styled('span', {\n  name: 'MuiLinearProgress',\n  slot: 'Bar2',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.bar, styles[`barColor${capitalize(ownerState.color)}`], (ownerState.variant === 'indeterminate' || ownerState.variant === 'query') && styles.bar2Indeterminate, ownerState.variant === 'buffer' && styles.bar2Buffer];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  width: '100%',\n  position: 'absolute',\n  left: 0,\n  bottom: 0,\n  top: 0,\n  transition: 'transform 0.2s linear',\n  transformOrigin: 'left'\n}, ownerState.variant !== 'buffer' && {\n  backgroundColor: ownerState.color === 'inherit' ? 'currentColor' : (theme.vars || theme).palette[ownerState.color].main\n}, ownerState.color === 'inherit' && {\n  opacity: 0.3\n}, ownerState.variant === 'buffer' && {\n  backgroundColor: getColorShade(theme, ownerState.color),\n  transition: `transform .${TRANSITION_DURATION}s linear`\n}), ({\n  ownerState\n}) => (ownerState.variant === 'indeterminate' || ownerState.variant === 'query') && css(_t6 || (_t6 = _`\n      width: auto;\n      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    `), indeterminate2Keyframe));\n\n/**\n * ## ARIA\n *\n * If the progress bar is describing the loading progress of a particular region of a page,\n * you should use `aria-describedby` to point to the progress bar, and set the `aria-busy`\n * attribute to `true` on that region until it has finished loading.\n */\nconst LinearProgress = /*#__PURE__*/React.forwardRef(function LinearProgress(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiLinearProgress'\n  });\n  const {\n      className,\n      color = 'primary',\n      value,\n      valueBuffer,\n      variant = 'indeterminate'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    color,\n    variant\n  });\n  const classes = useUtilityClasses(ownerState);\n  const theme = useTheme();\n  const rootProps = {};\n  const inlineStyles = {\n    bar1: {},\n    bar2: {}\n  };\n  if (variant === 'determinate' || variant === 'buffer') {\n    if (value !== undefined) {\n      rootProps['aria-valuenow'] = Math.round(value);\n      rootProps['aria-valuemin'] = 0;\n      rootProps['aria-valuemax'] = 100;\n      let transform = value - 100;\n      if (theme.direction === 'rtl') {\n        transform = -transform;\n      }\n      inlineStyles.bar1.transform = `translateX(${transform}%)`;\n    } else if (process.env.NODE_ENV !== 'production') {\n      console.error('MUI: You need to provide a value prop ' + 'when using the determinate or buffer variant of LinearProgress .');\n    }\n  }\n  if (variant === 'buffer') {\n    if (valueBuffer !== undefined) {\n      let transform = (valueBuffer || 0) - 100;\n      if (theme.direction === 'rtl') {\n        transform = -transform;\n      }\n      inlineStyles.bar2.transform = `translateX(${transform}%)`;\n    } else if (process.env.NODE_ENV !== 'production') {\n      console.error('MUI: You need to provide a valueBuffer prop ' + 'when using the buffer variant of LinearProgress.');\n    }\n  }\n  return /*#__PURE__*/_jsxs(LinearProgressRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    role: \"progressbar\"\n  }, rootProps, {\n    ref: ref\n  }, other, {\n    children: [variant === 'buffer' ? /*#__PURE__*/_jsx(LinearProgressDashed, {\n      className: classes.dashed,\n      ownerState: ownerState\n    }) : null, /*#__PURE__*/_jsx(LinearProgressBar1, {\n      className: classes.bar1,\n      ownerState: ownerState,\n      style: inlineStyles.bar1\n    }), variant === 'determinate' ? null : /*#__PURE__*/_jsx(LinearProgressBar2, {\n      className: classes.bar2,\n      ownerState: ownerState,\n      style: inlineStyles.bar2\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? LinearProgress.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).\n   * @default 'primary'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['inherit', 'primary', 'secondary']), PropTypes.string]),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The value of the progress indicator for the determinate and buffer variants.\n   * Value between 0 and 100.\n   */\n  value: PropTypes.number,\n  /**\n   * The value for the buffer variant.\n   * Value between 0 and 100.\n   */\n  valueBuffer: PropTypes.number,\n  /**\n   * The variant to use.\n   * Use indeterminate or query when there is no progress value.\n   * @default 'indeterminate'\n   */\n  variant: PropTypes.oneOf(['buffer', 'determinate', 'indeterminate', 'query'])\n} : void 0;\nexport default LinearProgress;"],"names":["props","isOpen","logos","closeAnnotation","toggleLogoSelection","afterAnnotation","value","type","game","matomoTrackLogoAnnotation","useMatomoTrackAnswerQuestion","annotateLogo","sendAnnotation","IS_DEVELOPMENT_MODE","robotoff","filter","logo","selected","map","logo_id","id","number","length","forEach","open","onClose","maxWidth","variant","sx","padding","request","mapValueToAction","CORRECT_INSIGHT","WRONG_INSIGHT","SKIPPED_INSIGHT","trackEvent","useMatomo","answerQuestions","answer","category","action","name","transformLogo","src","image","url","off","source_image","bounding_box","barcode","count","Number","parseInt","data","LoadingReferenceLogos","t","useTranslation","width","textAlign","py","m","FailedReferecnceLogos","color","size","component","Link","href","target","ml","minWidth","LogoSearch","React","annotatedLogos","setAnnotatedLogos","logosToAnnotate","setLogosToAnnotate","searchCount","useUrlParams","searchState","setSearchState","pageSize","page","setPage","isLoadingAnnotatedLogos","setIsLoadingAnnotatedLogos","isLoadingToAnnotateLogos","setIsLoadingToAnnotateLogos","isValid","fetchMoreAnnotatedLogos","prev","ids","includes","then","catch","nextLogoToFetchId","find","fetched","fetchLogosToAnnotate","JSON","stringify","results","r","logoImages","logoId2Distance","distance","notAnnotatedLogos","annotation_type","annotation_value","annotation_value_tag","seenIds","alreadyVisible","slice","hidden","sort","a","b","toggleSelection","indexToToggle","findIndex","setRangeSelection","newSelectedState","shouldBeSet","isAnnotationOpen","setIsAnnotationOpen","openAnnotation","fallback","mb","my","mt","readOnly","pt","display","flexDirection","gap","onClick","index","maxHeight","setLogoSelectionRange","elevation","position","bottom","disabled","p","Math","max","fullWidth","annotatedIds","getLinearProgressUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_t","_t2","_t3","_t4","_t5","_t6","_excluded","indeterminate1Keyframe","keyframes","indeterminate2Keyframe","bufferKeyframe","getColorShade","theme","vars","palette","LinearProgress","mode","lighten","main","darken","LinearProgressRoot","styled","overridesResolver","styles","ownerState","root","capitalize","_extends","overflow","height","zIndex","colorAdjust","backgroundColor","content","left","top","right","opacity","transform","LinearProgressDashed","dashed","marginTop","backgroundImage","backgroundSize","backgroundPosition","css","LinearProgressBar1","bar","bar1Indeterminate","bar1Determinate","bar1Buffer","transition","transformOrigin","LinearProgressBar2","bar2Indeterminate","bar2Buffer","inProps","ref","useThemeProps","className","valueBuffer","other","_objectWithoutPropertiesLoose","classes","slots","bar1","bar2","composeClasses","useUtilityClasses","useTheme","rootProps","inlineStyles","undefined","round","direction","process","_jsxs","clsx","role","children","_jsx","style"],"sourceRoot":""}