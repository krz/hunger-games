"use strict";(self.webpackChunkhunger_game=self.webpackChunkhunger_game||[]).push([[994],{5607:function(n,t,e){e.d(t,{B4:function(){return c},Cy:function(){return s},Qw:function(){return u},TX:function(){return r},il:function(){return i},wq:function(){return a}});var o=e(9439),a={insightType:"brand",brandFilter:"",countryFilter:"",sortByPopularity:!0,valueTag:"",campaign:""},r=["agribalyse-category"],i=["","en:australia","en:belgium","en:canada","en:croatia","en:denmark","en:france","en:germany","en:italy","en:netherlands","en:portugal","en:spain","en:sweden","en:switzerland","en:united-kingdom","en:united-states"],c={label:"label",category:"category",brand:"brand",product_weight:"product_weight",packaging:"packaging"},u={valueTag:"value_tag",brandFilter:"brand",countryFilter:"country",insightType:"type",sortByPopularity:"sorted",campaign:"campaign"},s={};Object.entries(u).forEach((function(n){var t=(0,o.Z)(n,2),e=t[0],a=t[1];s[a]=e}))},5244:function(n,t,e){e.d(t,{P:function(){return d},Y:function(){return f}});var o=e(9439),a=e(9867),r=e(5607),i=e(3843),c=e(6949),u=e(2068),s=function(n){var t={};return Object.keys(n).forEach((function(e){t[r.Qw[e]]=n[e]})),t},l=s(r.wq),d=function(n){return(0,u.aR)(s(n))};function f(){var n=(0,u.ZP)(l,{valueTag:["value_tag","value"]}),t=(0,o.Z)(n,2),e=t[0],d=t[1],f=a.useMemo((function(){return function(n){var t={};return Object.keys(n).forEach((function(e){t[r.Cy[e]]=n[e]})),t}(e)}),[e]),g=a.useState(i.q9.isSaved(f)),v=(0,o.Z)(g,2),p=v[0],h=v[1],m=a.useCallback((function(n){var t;t="function"===typeof n?n(f):n,Object.keys(r.wq).some((function(n){return t[n]!==f[n]}))&&(h(i.q9.isSaved(t)),d(s(t)))}),[f,d]),Z=a.useCallback((function(){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=i.q9.isSaved(f);t?i.q9.removeQuestion(f):i.q9.addQuestion(f,c,n),h(!t)}),[f]);return[f,m,p,Z]}},667:function(n,t,e){var o=e(1413),a=e(9439),r=e(5987),i=e(9867),c=e(8386),u=e(2541),s=e(9830),l=e(4964),d=e(7298),f=e(5226),g=e(9346),v=e(98),p=e(7237),h=e(5940),m=e(489),Z=e(8907),x=e(8357),y=e(301),j=e(2689),b=e(2834),_=["src","srcFull","zoomIn","imageProps"];t.Z=function(n){var t=n.src,e=n.srcFull,w=n.zoomIn,k=n.imageProps,C=(0,r.Z)(n,_),S=i.useRef(null),E=i.useState(0),q=(0,a.Z)(E,2),P=q[0],I=q[1],T=i.useState(!1),R=(0,a.Z)(T,2),L=R[0],N=R[1],O=(0,j.Z)(),F=(0,y.Z)(O.breakpoints.down("md"));return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",(0,o.Z)((0,o.Z)({},C),{},{style:(0,o.Z)((0,o.Z)({},C.style),{},{position:"relative"}),children:[w?(0,b.jsx)(h.d$,{children:(0,b.jsx)(h.Uv,{children:(0,b.jsx)("img",(0,o.Z)({src:t,alt:""},k))})}):(0,b.jsx)("img",(0,o.Z)({src:t,alt:""},k)),(0,b.jsx)(g.Z,{onClick:function(){N(!0)},sx:function(n){return{position:"absolute",color:"white",backgroundColor:(0,p.Fq)(n.palette.secondary.main,.5),bottom:5,right:5}},children:(0,b.jsx)(x.Z,{})})]})),(0,b.jsxs)(c.Z,{open:L,onClose:function(){N(!1)},maxWidth:"xl",fullScreen:F,children:[(0,b.jsx)(d.Z,{sx:{p:1,display:"flex",flexDirection:"row-reverse"},children:(0,b.jsx)(g.Z,{onClick:function(){return N(!1)},children:(0,b.jsx)(v.Z,{})})}),(0,b.jsx)(f.Z,{}),(0,b.jsx)(s.Z,{sx:{p:{xs:1,md:2}},children:(0,b.jsx)(h.d$,{limitToBounds:!1,ref:S,children:(0,b.jsx)(h.Uv,{children:(0,b.jsx)("img",{src:null!==e&&void 0!==e?e:t,alt:"",style:{maxHeight:"calc(100vh - 160px )",maxWidth:"min(100%, 1400px)",transform:"rotate(".concat(90*P,"deg)"),transformOrigin:"center"}})})})}),(0,b.jsxs)(u.Z,{children:[(0,b.jsx)(l.Z,{fullWidth:!0,variant:"outlined",onClick:function(){I((function(n){return n-1}))},startIcon:(0,b.jsx)(m.Z,{}),children:"left"}),(0,b.jsx)(l.Z,{fullWidth:!0,onClick:function(){var n;I(0),null===(n=S.current)||void 0===n||n.resetTransform()},children:"Reset"}),(0,b.jsx)(l.Z,{fullWidth:!0,variant:"outlined",onClick:function(){I((function(n){return n+1}))},endIcon:(0,b.jsx)(Z.Z,{}),children:"right"})]})]})]})}},3449:function(n,t,e){var o=e(8025),a=e.n(o),r={addImageFlag:function(n){var t=n.barcode,e=n.imgid,o=n.url;a().put("https://amathjourney.com/api/off-annotation/flag-image/".concat(t),{mode:"no-cors",imgid:e,url:o}).catch((function(){console.log("Image flagged")}))},removeImageFlag:function(n){var t=n.barcode,e=n.imgid;a().delete("https://amathjourney.com/api/off-annotation/flag-image/".concat(t),{mode:"no-cors",data:{imgid:e}}).catch((function(){console.log("Something went wrong. Image could not be flagged")}))}};t.ZP=r},2068:function(n,t,e){e.d(t,{aR:function(){return u}});var o=e(9439),a=e(1413),r=e(9867),i=e(4670),c=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=(0,a.Z)({},n),r=new URLSearchParams(window.location.search);return Object.keys(n).forEach((function(t){var o=r.get(t);null!==o&&JSON.stringify(n[t])!==o&&(e[t]="true"===o||"false"===o?JSON.parse(o):o)})),Object.entries(t).forEach((function(t){var a=(0,o.Z)(t,2),i=a[0],c=a[1];("string"===typeof c?[c]:c).forEach((function(t){var o=r.get(t);null!==o&&JSON.stringify(n[i])!==o&&(e[i]="true"===o||"false"===o?JSON.parse(o):o)}))})),e},u=function(n,t){var e=new URLSearchParams(window.location.search);return Object.keys(n).forEach((function(t){JSON.stringify(n[t])!==e.get(t)&&e.set(t,n[t])})),void 0!==t&&Object.keys(t).forEach((function(o){null!==e.get(o)&&t[o]===n[o]&&e.delete(o)})),e.toString()};t.ZP=function(n,t){var e=r.useState((function(){return c(n)})),a=(0,o.Z)(e,2),s=a[0],l=a[1],d=(0,i.TH)().search;r.useEffect((function(){l((function(e){var o=c(n,t);return Object.keys(n).some((function(n){return o[n]!==e[n]}))?o:e}))}),[d,n,t]);var f=r.useCallback((function(t){var e;e="function"===typeof t?t(s):t,l(e),function(n,t){var e="".concat(window.location.pathname,"?").concat(u(n,t));window.history.pushState(null,"",e)}(e,n)}),[s,n]);return[s,f]}},7994:function(n,t,e){e.r(t),e.d(t,{default:function(){return z}});var o=e(3433),a=e(1413),r=e(9439),i=e(9867),c=e(8976),u=e(7298),s=e(4964),l=e(3248),d=e(9079),f=e(8547),g=e(7951),v=e(9359),p=e(9979),h=e(3941),m=e(2371),Z=e(2639),x=e(854),y=e(8408),j=e(8025),b=e.n(j),_=e(2915),w=e(3865),k=e(2834),C=function(n,t){var e=t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return n.find((function(n){return n.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(e)}))},S=function(n){var t=i.useState(""),e=(0,r.Z)(t,2),o=e[0],c=e[1],u=n.options,s=n.value,l=n.onChange;return(0,k.jsx)(_.Z,{options:u,value:s,onChange:l,onInputChange:function(n,t){return c(t)},disablePortal:!0,renderInput:function(n){return(0,k.jsx)(w.Z,(0,a.Z)({},n))},getOptionLabel:function(n){return"string"===typeof n?n:C(null===n||void 0===n?void 0:n.synonyms,o)},filterOptions:function(n){return n.filter((function(n){return null!=C(n.synonyms,o)}))},isOptionEqualToValue:function(n,t){return n.value===t.value}})},E=function(n,t){if(!t)return null;var e=n.findIndex((function(n){return n.value===t}));return e>=0?n[e]:null},q=function(n){var t=n.packagingMaterials,e=n.packagingShapes,o=n.packagingRecycling,a=n.updateRow,c=n.material,u=void 0===c?null:c,l=n.number_of_units,d=void 0===l?null:l,f=n.recycling,g=void 0===f?null:f,v=n.shape,h=void 0===v?null:v,m=i.useState((function(){return E(t,u)})),x=(0,r.Z)(m,2),y=x[0],j=x[1];i.useEffect((function(){j(E(t,u))}),[u,t]);var b=i.useState(d),_=(0,r.Z)(b,2),C=_[0],q=_[1];i.useEffect((function(){q(d)}),[d]);var P=i.useState((function(){return E(o,g)})),I=(0,r.Z)(P,2),T=I[0],R=I[1];i.useEffect((function(){R(E(o,g))}),[o,g]);var L=i.useState((function(){return E(e,h)})),N=(0,r.Z)(L,2),O=N[0],F=N[1];i.useEffect((function(){F(E(e,h))}),[e,h]);return(0,k.jsxs)(Z.Z,{children:[(0,k.jsx)(p.Z,{children:(0,k.jsx)(w.Z,{value:C||"",onChange:function(n){q(n.target.value),a({number:n.target.value})},sx:{width:100}})}),(0,k.jsx)(p.Z,{children:(0,k.jsx)(S,{options:e,value:O,onChange:function(n,t){a({shape:t&&t.value}),F(t)}})}),(0,k.jsx)(p.Z,{children:(0,k.jsx)(S,{options:t,value:y,onChange:function(n,t){a({material:t&&t.value}),j(t)}})}),(0,k.jsx)(p.Z,{children:(0,k.jsx)(S,{options:o,value:T,onChange:function(n,t){a({recycling:t&&t.value}),R(t)}})}),(0,k.jsx)(p.Z,{children:(0,k.jsx)(s.Z,{onClick:function(){j(E(t,u)),R(E(o,g)),F(E(e,h)),q(d),a({material:u,number:d,recycling:g,shape:h})},disabled:u===y&&d===C&&g===T&&h===O,children:"Reset"})})]})},P=e(9025);var I=function(n){var t=n.country,e=n.creator,o=n.code,a=i.useState((function(){return Math.ceil(100*Math.random())})),c=(0,r.Z)(a,2),u=c[0],s=c[1],l=i.useState(null),d=(0,r.Z)(l,2),f=d[0],g=d[1],v=i.useState(100),p=(0,r.Z)(v,2),h=p[0],m=p[1],Z=function(n){var t=n.page,e=void 0===t?1:t,o=n.country,a=void 0===o?"en:france":o,r=n.creator,i=n.code,c=void 0===i?"":i;if(c)return"https://fr.openfoodfacts.org/api/v3/product/".concat(c,".json?fields=code,lang,image_packaging_url,product_name,packagings,images,creator,countries");var u=2;return a&&(u+=1),"".concat(P.x1,"?json=true&").concat(e?"page=".concat(e,"&"):"","fields=code,states,lang,image_packaging_url,packagings,product_name,images,creator,countries&action=process&sort_by=unique_scans_n&tagtype_0=states&tag_contains_0=contains&tag_0=packaging-to-be-completed&tagtype_1=states&tag_contains_1=contains&tag_1=packaging-photo-selected").concat(a?"&tagtype_2=countries&tag_contains_2=contains&tag_2=".concat(a):"").concat(r?"&tagtype_".concat(u,"=creator&tag_contains_").concat(u,"=contains&tag_").concat(u,"=").concat(r):"")}({page:u,country:t,creator:e,code:o}),x=i.useRef(!1);i.useEffect((function(){x.current&&(g([]),s(1))}),[t,e]),i.useEffect((function(){null!=f&&0===f.length&&s((function(n){return Math.min(h,n+1)}))}),[f,h]),i.useEffect((function(){var n=!0;return b().get(Z).then((function(t){var e,o=t.data;n&&(g(null!==(e=o.products)&&void 0!==e?e:[o.product]),m(Math.floor(o.count/o.page_size)+1),x.current=!0)})),function(){n=!1}}),[Z]);return console.log(f),[f,function(){return g((function(n){return n&&n.length>0?n.slice(1):n}))}]},T=function(n,t){var e=i.useState([]),o=(0,r.Z)(e,2),a=o[0],c=o[1];return i.useEffect((function(){b().get("https://static.openfoodfacts.org/data/taxonomies/".concat(n,".full.json")).then((function(n){var e=n.data,o=Object.keys(e).map((function(n){var o,a,r=null!==(o=null!==(a=e[n].synonyms[t])&&void 0!==a?a:e[n].synonyms.xx)&&void 0!==o?o:e[n].synonyms.en;return void 0===r?null:{value:n,synonyms:r,label:r[0]}})).filter((function(n){return null!==n})).sort((function(n,t){return n.label.localeCompare(t.label)}));c(o)})).catch((function(n){console.log(n)}))}),[n,t]),a},R=e(3843),L=e(667),N=e(5726),O=e(3547),F=e(2418),M=e(2068),K=e(8514),z=function(){var n,t=(0,F.$G)().t,e=(0,R.VQ)(),j=T("packaging_materials",e),_=T("packaging_shapes",e),w=T("packaging_recycling",e),C=(0,M.ZP)({country:"en:france",creator:void 0,code:""},{}),S=(0,r.Z)(C,1)[0],E=i.useState([]),P=(0,r.Z)(E,2),z=P[0],B=P[1],U=i.useState([]),V=(0,r.Z)(U,2),H=V[0],W=V[1],Q=I(S),D=(0,r.Z)(Q,2),J=D[0],$=D[1],A=null!==(n=null===J||void 0===J?void 0:J[0])&&void 0!==n?n:null;return i.useEffect((function(){if(A){var n=A.packagings.map((function(n,t){return(0,a.Z)({id:t},n)}));B(n),W(n)}}),[A]),null===A?(0,k.jsx)("p",{children:"Loading..."}):(0,k.jsxs)(i.Suspense,{fallback:(0,k.jsx)(K.Z,{}),children:[(0,k.jsx)(l.Z,{direction:"row",spacing:1,sx:{overflow:"auto"},children:(0,N.Rd)(A.images,A.code).map((function(n){return(0,k.jsx)(L.Z,{src:n,imageProps:{loading:"lazy",style:{maxWidth:300,maxHeight:300}}})}))}),(0,k.jsxs)(u.Z,{children:[(0,k.jsxs)(l.Z,{spacing:1,alignItems:{xs:"flex-start",md:"flex-end"},direction:{xs:"column",md:"row"},children:[(0,k.jsx)("img",{src:A.image_packaging_url,alt:""}),(0,k.jsxs)(h.Z,{component:c.Z,children:[(0,k.jsxs)(g.Z,{children:[(0,k.jsx)(m.Z,{children:(0,k.jsxs)(Z.Z,{children:[(0,k.jsx)(p.Z,{sx:{width:100},children:"Nb per unit"}),(0,k.jsx)(p.Z,{children:"Shape"}),(0,k.jsx)(p.Z,{children:"Material"}),(0,k.jsx)(p.Z,{children:"Recycling"})]})}),(0,k.jsx)(v.Z,{children:z.map((function(n){return(0,k.jsx)(q,(0,a.Z)({packagingMaterials:j,packagingShapes:_,packagingRecycling:w,updateRow:function(t){W((function(e){return e.map((function(e){return e.id!==n.id?e:(0,a.Z)((0,a.Z)({},e),t)}))}))}},n),n.id)}))})]}),(0,k.jsx)(s.Z,{onClick:function(){B((function(n){return[].concat((0,o.Z)(n),[{id:n.length+1,material:null,number:null,recycling:null,shape:null}])})),W((function(n){return[].concat((0,o.Z)(n),[{id:n.length+1,material:null,number:null,recycling:null,shape:null}])}))},children:"Add row"})]})]}),(0,k.jsxs)(l.Z,{direction:"row",spacing:2,sx:{my:2,justifyContent:"flex-end"},children:[(0,k.jsx)(s.Z,{sx:{width:150},onClick:function(){return $()},variant:"contained",children:"Skip"}),(0,k.jsx)(s.Z,{sx:{width:150},onClick:function(){b().patch("https://world.openfoodfacts.org/api/v3/product/".concat(A.code),function(n){var t=n.map((function(n,t){var e=n.material,o=n.number,a=n.recycling,r=n.shape,i={};return o&&!isNaN(Number.parseInt(o))&&(i.number_of_units=Number.parseInt(o)),r&&(i.shape={id:r}),e&&(i.material={id:e}),a&&(i.recycling={id:a}),Object.keys(i).length>0?i:null})).filter((function(n){return null!==n}));return 0===t.length?{}:{product:{fields:"updated",packagings:t}}}(H),{withCredentials:!0}),$()},variant:"contained",color:"success",children:"Validate"})]})]}),(0,k.jsxs)(l.Z,{direction:"row",spacing:2,children:[(0,k.jsx)(f.Z,{children:null===A||void 0===A?void 0:A.product_name}),(0,k.jsx)(s.Z,{size:"small",component:d.Z,target:"_blank",href:"".concat(O.Z.getProductUrl(A.code),"#environment"),variant:"outlined",startIcon:(0,k.jsx)(y.Z,{}),sx:{minWidth:150},children:t("questions.view")}),(0,k.jsx)(s.Z,{size:"small",component:d.Z,target:"_blank",href:O.Z.getProductEditUrl(A.code),variant:"contained",startIcon:(0,k.jsx)(x.Z,{}),sx:{ml:2,minWidth:150},children:t("questions.edit")})]})]})}},5726:function(n,t,e){e.d(t,{PR:function(){return x},Rd:function(){return m},V0:function(){return h},Xv:function(){return b},_l:function(){return p},bL:function(){return j},cb:function(){return Z},d2:function(){return y},uY:function(){return _},xQ:function(){return w}});var o=e(4165),a=e(5861),r=e(1413),i=e(3433),c=e(9439),u=e(9867),s=e(9025),l=e(5886),d=e(3449),f=e(3547),g=e(3768),v=e(5244),p={brands:"brands",ingredientsText:"ingredients",countriesTags:"countries",categories:"categories",labels_tags:"labels",quantity:"quantity"},h=function(n){var t=n.split("/").at(-1).replace(/\..+$/,"");return Number(t)},m=function(n,t){if(!n||!t)return[];var e=f.Z.getFormatedBarcode(t),o=f.Z.getImageUrl(e);return Object.keys(n).filter((function(n){return!isNaN(Number.parseInt(n))})).map((function(n){return"".concat(o,"/").concat(n,".jpg")}))},Z=function(n,t){var e=u.useState({questions:[],isLoading:!0}),o=(0,c.Z)(e,2),a=o[0],r=o[1];u.useEffect((function(){if(n){var e=!0;return r({questions:[],isLoading:!0}),g.Z.questionsByProductCode(n).then((function(n){var o,a;if(e){var i=null!==(o=null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.questions)&&void 0!==o?o:[];r({questions:i.filter((function(n){return(null===n||void 0===n?void 0:n.insight_id)!==t})),isLoading:!1})}})),function(){e=!1}}}),[n,t]);var i=u.useState({}),s=(0,c.Z)(i,2),l=s[0],d=s[1];return[a,r,l,d]},x=function(n){var t=u.useState([]),e=(0,c.Z)(t,2),o=e[0],a=e[1],r=u.useCallback((function(t){var e=h(t);d.ZP.addImageFlag({barcode:n,imgid:e,url:t}),a((function(n){return[].concat((0,i.Z)(n),[e])}))}),[n]),s=u.useCallback((function(t){var e=h(t);d.ZP.removeImageFlag({barcode:n,imgid:e}),a((function(n){return n.filter((function(n){return n!==e}))}))}),[n]);return u.useEffect((function(){a([])}),[n]),[o,r,s]},y=function(n){var t=u.useState({}),e=(0,c.Z)(t,2),o=e[0],a=e[1];return u.useEffect((function(){if(n){var t=!0;return a({code:n,isLoading:!0}),f.Z.getProduct(n).then((function(e){var o,r,i,c;if(t){var u=e.data.product;a({code:n,productName:(null===u||void 0===u?void 0:u.product_name)||"",brands:(null===u||void 0===u?void 0:u.brands)||"?",ingredientsText:(null===u||void 0===u?void 0:u.ingredients_text)||"?",countriesTags:null!==u&&void 0!==u&&u.countries_tags?"".concat(null===u||void 0===u||null===(o=u.countries_tags)||void 0===o||null===(r=o.join)||void 0===r?void 0:r.call(o,", "),"."):"?",images:(null===u||void 0===u?void 0:u.images)||{},categories:(null===u||void 0===u?void 0:u.categories)||"?",labels_tags:(null===u||void 0===u||null===(i=u.labels_tags)||void 0===i||null===(c=i.join)||void 0===c?void 0:c.call(i,", "))||"?",quantity:(null===u||void 0===u?void 0:u.quantity)||"?",isLoading:!1})}})).catch((function(){})),function(){t=!1}}}),[n]),o},j=function(n){return n?/\/[a-z_]+.[0-9]*.400.jpg$/gm.test(n)?n.replace("400.jpg","full.jpg"):n.replace("400.jpg","jpg"):"https://static.openfoodfacts.org/images/image-placeholder.png"},b=function(n,t){if(null!==t&&t&&(null===t||void 0===t?void 0:t.insight_id)!==s.Fl&&null!==t&&void 0!==t&&t.value_tag){var e=new URLSearchParams;return e.append("type",t.insight_type),e.append("value_tag",(0,l.Ii)(null===t||void 0===t?void 0:t.value_tag)),"/questions?".concat((0,v.P)((0,r.Z)((0,r.Z)({},n),{},{insightType:t.insight_type,valueTag:null===t||void 0===t?void 0:t.value_tag})))}return null},_=function(n){return null!==n&&(null===n||void 0===n?void 0:n.insight_id)!==s.Fl&&null!==n&&void 0!==n&&n.value_tag&&n.insight_type?"".concat(s.HD,"/").concat(n.insight_type,"/").concat((0,l.Ii)(null===n||void 0===n?void 0:n.value_tag)):""},w=function(){var n=(0,a.Z)((0,o.Z)().mark((function n(t){var e,a;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.Z.questions(t,1);case 2:return e=n.sent,a=e.data,n.abrupt("return",a.count);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},3768:function(n,t,e){var o=e(9439),a=e(1413),r=e(8025),i=e.n(r),c=e(9025),u=e(3843),s=e(5886),l={annotate:function(n,t){if(!c.rp)return i().post("".concat(c.oK,"/insights/annotate"),new URLSearchParams("insight_id=".concat(n,"&annotation=").concat(t,"&update=1")),{withCredentials:!0});console.log("Annotated, ".concat(c.oK,"/insights/annotate"),new URLSearchParams("insight_id=".concat(n,"&annotation=").concat(t,"&update=1")),{withCredentials:!0})},questionsByProductCode:function(n){return i().get("".concat(c.oK,"/questions/").concat(n)).then((function(n){var t=n.data.questions;return n.data.questions=t.filter((function(n){return n.source_image_url})),n}))},questions:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=n.insightType,r=n.brandFilter,l=n.valueTag,d=n.countryFilter,f=n.sortByPopularity,g=n.campaign,v=n.predictor,p={insight_types:o,value_tag:l,brands:(0,s.Ii)(r),country:"en:world"!==d?d:null,campaign:g,predictor:v},h=(0,u.VQ)();return i().get("".concat(c.oK,"/questions/").concat(f?"popular":"random"),{params:(0,s.BE)((0,a.Z)((0,a.Z)({},p),{},{lang:h,count:t,page:e}))})},insightDetail:function(n){return i().get("".concat(c.oK,"/insights/detail/").concat(n))},loadLogo:function(n){return i().get("".concat(c.oK,"/images/logos/").concat(n))},updateLogo:function(n,t,e){return i().put("".concat(c.oK,"/images/logos/").concat(n),(0,s.BE)({value:t,type:e}),{withCredentials:!0})},searchLogos:function(n,t,e){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=["label","category"].includes(e)?{taxonomy_value:t}:{value:t};return i().get("".concat(c.oK,"/images/logos/search/"),{params:(0,s.BE)((0,a.Z)({barcode:n,type:e,count:o,random:r},u))})},getLogoAnnotations:function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,o=n.length>0?"".concat(c.oK,"/ann/search/").concat(n):"".concat(c.oK,"/ann/search");return i().get(o,{params:(0,s.BE)({index:t,count:e})})},annotateLogos:function(n){return i().post("".concat(c.oK,"/images/logos/annotate"),(0,s.BE)({annotations:n}),{withCredentials:!0})},getInsights:function(){var n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:25;return a.length&&"not_annotated"===a&&(n="0",a=""),i().get("".concat(c.oK,"/insights"),{params:(0,s.BE)({barcode:t,insight_types:e,value_tag:o,annotation:a,page:r,annotated:n,count:u})})},getUserStatistics:function(n){return i().get("".concat(c.oK,"/users/statistics/").concat(n))},getCroppedImageUrl:function(n,t){var e=(0,o.Z)(t,4),a=e[0],r=e[1],i=e[2],u=e[3];return"".concat(c.oK,"/images/crop?image_url=").concat(n,"&y_min=").concat(a,"&x_min=").concat(r,"&y_max=").concat(i,"&x_max=").concat(u)},getLogosImages:function(n){return i().get("".concat(c.oK,"/images/logos?logo_ids=").concat(n.join(",")))},getNutritionValueFromImage:function(n,t,e){var o=t.split("/"),a=o[5],r="nutrition_".concat(n);for(var u in e)if(r===u)var s=e[r].imgid;return o.length>7&&(a=o[5]+"/"+o[6]+"/"+o[7]+"/"+o[8]),i().get("".concat(c.oK,"/predict/nutrient?ocr_url=https://images.openfoodfacts.org/images/products/").concat(a,"/").concat(s,".json"))},getUnansweredValues:function(n){var t,e=null!==(t=n.page)&&void 0!==t?t:1;return e=e>=1?e:1,i().get("".concat(c.oK,"/questions/unanswered/?").concat(Object.keys((0,a.Z)((0,a.Z)({},n),{},{page:e})).filter((function(t){return void 0!==n[t]})).map((function(t){return"".concat(t,"=").concat(n[t])})).join("&")))}};t.Z=l},5886:function(n,t,e){e.d(t,{BE:function(){return i},Ii:function(){return r},VS:function(){return u},_v:function(){return c}});var o=e(9439),a={" ":"-","'":"-","&":"","\xe0":"a","\xe2":"a","\xe4":"a","\xe9":"e","\xe8":"e","\xea":"e","\xeb":"e","\xee":"i","\xef":"i","\xf4":"o","\xf6":"o","\xfb":"u","\xf9":"u","\xfc":"u"},r=function(n){if(!n)return n;for(var t=n.trim().toLowerCase(),e=0,r=Object.entries(a);e<r.length;e++){var i=(0,o.Z)(r[e],2),c=i[0],u=i[1];t=t.replace(new RegExp(c,"g"),u)}return t=t.replace(/-{2,}/g,"-")},i=function(n){return Object.keys(n).forEach((function(t){return(null==n[t]||""===n[t])&&delete n[t]})),n};function c(n){return new Promise((function(t){return setTimeout(t,n)}))}var u=function(n){if(!n)return n;var t=n.slice(3);return t.charAt(0).toUpperCase()+t.slice(1)}},854:function(n,t,e){var o=e(4836);t.Z=void 0;var a=o(e(5511)),r=e(2834),i=(0,a.default)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=i},8408:function(n,t,e){var o=e(4836);t.Z=void 0;var a=o(e(5511)),r=e(2834),i=(0,a.default)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.Z=i},3941:function(n,t,e){e.d(t,{Z:function(){return h}});var o=e(7462),a=e(3366),r=e(9867),i=e(2026),c=e(6020),u=e(7090),s=e(3078),l=e(5157),d=e(3845);function f(n){return(0,d.Z)("MuiTableContainer",n)}(0,l.Z)("MuiTableContainer",["root"]);var g=e(2834),v=["className","component"],p=(0,s.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:function(n,t){return t.root}})({width:"100%",overflowX:"auto"}),h=r.forwardRef((function(n,t){var e=(0,u.Z)({props:n,name:"MuiTableContainer"}),r=e.className,s=e.component,l=void 0===s?"div":s,d=(0,a.Z)(e,v),h=(0,o.Z)({},e,{component:l}),m=function(n){var t=n.classes;return(0,c.Z)({root:["root"]},f,t)}(h);return(0,g.jsx)(p,(0,o.Z)({ref:t,as:l,className:(0,i.Z)(m.root,r),ownerState:h},d))}))},2371:function(n,t,e){e.d(t,{Z:function(){return x}});var o=e(7462),a=e(3366),r=e(9867),i=e(2026),c=e(6020),u=e(9077),s=e(7090),l=e(3078),d=e(5157),f=e(3845);function g(n){return(0,f.Z)("MuiTableHead",n)}(0,d.Z)("MuiTableHead",["root"]);var v=e(2834),p=["className","component"],h=(0,l.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(n,t){return t.root}})({display:"table-header-group"}),m={variant:"head"},Z="thead",x=r.forwardRef((function(n,t){var e=(0,s.Z)({props:n,name:"MuiTableHead"}),r=e.className,l=e.component,d=void 0===l?Z:l,f=(0,a.Z)(e,p),x=(0,o.Z)({},e,{component:d}),y=function(n){var t=n.classes;return(0,c.Z)({root:["root"]},g,t)}(x);return(0,v.jsx)(u.Z.Provider,{value:m,children:(0,v.jsx)(h,(0,o.Z)({as:d,className:(0,i.Z)(y.root,r),ref:t,role:d===Z?null:"rowgroup",ownerState:x},f))})}))}}]);
//# sourceMappingURL=994.f77743c9.chunk.js.map