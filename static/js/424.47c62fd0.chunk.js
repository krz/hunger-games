"use strict";(self.webpackChunkhunger_game=self.webpackChunkhunger_game||[]).push([[424],{667:function(n,i,t){var e=t(1413),o=t(9439),l=t(5987),r=t(9867),a=t(8386),u=t(2541),f=t(9830),s=t(4964),c=t(7298),d=t(5226),m=t(9346),_=t(98),b=t(7237),v=t(5940),p=t(489),h=t(8907),x=t(8357),g=t(301),Z=t(2689),j=t(2834),y=["src","srcFull","zoomIn","imageProps"];i.Z=function(n){var i=n.src,t=n.srcFull,P=n.zoomIn,q=n.imageProps,k=(0,l.Z)(n,y),w=r.useRef(null),C=r.useState(0),S=(0,o.Z)(C,2),H=S[0],I=S[1],N=r.useState(!1),T=(0,o.Z)(N,2),W=T[0],z=T[1],M=(0,Z.Z)(),R=(0,g.Z)(M.breakpoints.down("md"));return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",(0,e.Z)((0,e.Z)({},k),{},{style:(0,e.Z)((0,e.Z)({},k.style),{},{position:"relative"}),children:[P?(0,j.jsx)(v.d$,{children:(0,j.jsx)(v.Uv,{children:(0,j.jsx)("img",(0,e.Z)({src:i,alt:""},q))})}):(0,j.jsx)("img",(0,e.Z)({src:i,alt:""},q)),(0,j.jsx)(m.Z,{onClick:function(){z(!0)},sx:function(n){return{position:"absolute",color:"white",backgroundColor:(0,b.Fq)(n.palette.secondary.main,.5),bottom:5,right:5}},children:(0,j.jsx)(x.Z,{})})]})),(0,j.jsxs)(a.Z,{open:W,onClose:function(){z(!1)},maxWidth:"xl",fullScreen:R,children:[(0,j.jsx)(c.Z,{sx:{p:1,display:"flex",flexDirection:"row-reverse"},children:(0,j.jsx)(m.Z,{onClick:function(){return z(!1)},children:(0,j.jsx)(_.Z,{})})}),(0,j.jsx)(d.Z,{}),(0,j.jsx)(f.Z,{sx:{p:{xs:1,md:2}},children:(0,j.jsx)(v.d$,{limitToBounds:!1,ref:w,children:(0,j.jsx)(v.Uv,{children:(0,j.jsx)("img",{src:null!==t&&void 0!==t?t:i,alt:"",style:{maxHeight:"calc(100vh - 160px )",maxWidth:"min(100%, 1400px)",transform:"rotate(".concat(90*H,"deg)"),transformOrigin:"center"}})})})}),(0,j.jsxs)(u.Z,{children:[(0,j.jsx)(s.Z,{fullWidth:!0,variant:"outlined",onClick:function(){I((function(n){return n-1}))},startIcon:(0,j.jsx)(p.Z,{}),children:"left"}),(0,j.jsx)(s.Z,{fullWidth:!0,onClick:function(){var n;I(0),null===(n=w.current)||void 0===n||n.resetTransform()},children:"Reset"}),(0,j.jsx)(s.Z,{fullWidth:!0,variant:"outlined",onClick:function(){I((function(n){return n+1}))},endIcon:(0,j.jsx)(h.Z,{}),children:"right"})]})]})]})}},6424:function(n,i,t){t.r(i),t.d(i,{default:function(){return S}});var e=t(4942),o=t(1413),l=t(9439),r=t(9867),a=t(7951),u=t(9359),f=t(9979),s=t(3941),c=t(2371),d=t(2639),m=t(7298),_=t(2418),b=t(3865),v=t(3911),p=t(7794),h=t(2834),x=[{value:"g",label:"g"},{value:"mg",label:"mg"}],g=[{value:"=",label:"="},{value:">",label:">"},{value:"<",label:"<"}];function Z(n){var i,t=n.nutriment,e=n.onchangeHandler,o=n.deleteItem,l=(0,_.$G)().t,r=l("nutrition.nutriments.".concat(t.label)),a=null!==(i=t.unitOptions)&&void 0!==i?i:x;return(0,h.jsxs)(d.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,h.jsx)(f.Z,{component:"th",scope:"row",children:r}),(0,h.jsx)(f.Z,{children:(0,h.jsx)(b.Z,{select:!0,onChange:e(t.off_nutriment_id,"quantification"),value:t.quantification,sx:{minWidth:80},children:g.map((function(n){var i=n.label,t=n.value;return(0,h.jsx)(v.Z,{value:t,children:i},i)}))})}),(0,h.jsx)(f.Z,{sx:{width:20},children:(0,h.jsx)(b.Z,{type:"number",sx:{minWidth:"8rem"},label:l("nutrition.value"),variant:"outlined",value:t.value,onChange:e(t.off_nutriment_id,"value")})}),(0,h.jsx)(f.Z,{children:a.length>0&&(0,h.jsx)(b.Z,{select:!0,onChange:e(t.off_nutriment_id,"unit"),value:t.unit,sx:{minWidth:80},label:l("nutrition.unit"),children:a.map((function(n){var i=n.label,t=n.value;return(0,h.jsx)(v.Z,{value:t,children:i},i)}))})}),(0,h.jsx)(f.Z,{children:(0,h.jsx)(p.Z,{sx:{cursor:"pointer",color:"red"},onClick:function(){return o(t)}})})]})}function j(n){var i=n.nutriments,t=(n.setNutriments,n.additionalNutriments,n.deleteItem),e=n.onchangeHandler,o=(0,_.$G)().t,l=i.map((function(n){return(0,h.jsx)(Z,{nutriment:n,onchangeHandler:e,deleteItem:t},n.off_nutriment_id)}));return(0,h.jsx)(m.Z,{children:(0,h.jsx)(s.Z,{sx:{margin:0,maxWidth:"1000px",borderRadius:"2%",backgroundColor:"#fdf5e6"},children:(0,h.jsxs)(a.Z,{"aria-label":"simple table",children:[(0,h.jsx)(c.Z,{children:(0,h.jsxs)(d.Z,{children:[(0,h.jsx)(f.Z,{sx:{fontSize:"large",fontWeight:"bold"},children:o("nutrition.table.value")}),(0,h.jsx)(f.Z,{colSpan:4})]})}),(0,h.jsx)(u.Z,{children:l})]})})})}var y=t(4964),P=t(8547),q=t(667),k=t(3547),w=[{off_nutriment_id:"energy-kj",label:"nutriment_energy-kj",value:"",unit:null,quantification:"=",robotoffPrediction:null,display:!0,unitOptions:[]},{off_nutriment_id:"energy-kcal",label:"nutriment_energy-kcal",value:"",unit:null,quantification:"<",robotoffPrediction:null,display:!0,unitOptions:[]},{off_nutriment_id:"nutriment_fat",label:"nutriment_fat",value:"",unit:"g",quantification:"<",robotoffPrediction:null,display:!0},{off_nutriment_id:"saturated-fat",label:"nutriment_saturated-fat",value:"",unit:"g",quantification:"<",robotoffPrediction:null,display:!0},{off_nutriment_id:"carbohydrates",label:"nutriment_carbohydrates",value:"",unit:"g",quantification:"=",robotoffPrediction:null,display:!1},{off_nutriment_id:"sugars",label:"nutriment_sugars",value:"",unit:"g",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"proteins",label:"nutriment_proteins",value:"",unit:"g",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"fiber",label:"nutriment_fiber",value:"",unit:"g",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"salt",label:"nutriment_salt",value:"",unit:"g",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"sodium",label:"nutriment_sodium",value:"",unit:null,quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"zinc",label:"nutriment_zinc",value:"",unit:"mg",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"vitamin-c",label:"nutriment_vitamin-c",value:"",unit:"mg",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"vitamin-d",label:"nutriment_vitamin-d",value:"",unit:"\xb5g",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"vitamin-k",label:"nutriment_vitamin-k",value:"",unit:"\xb5g",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"vitamin-b6",label:"nutriment_vitamin-b6",value:"",unit:"mg",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"vitamin-a",label:"nutriment_vitamin-a",value:"",unit:"\xb5g",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"selenium",label:"nutriment_selenium",value:"",unit:"\xb5g",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"bicarbonate",label:"nutriment_bicarbonate",value:"",unit:"mg",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"magnesium",label:"nutriment_magnesium",value:"",unit:"mg",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"pantothenic-acid",label:"nutriment_pantothenic-acid",value:"",unit:"mg",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"fluoride",label:"nutriment_fluoride",value:"",unit:"mg",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"iodine",label:"nutriment_iodine",value:"",unit:"\xb5g",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"silica",label:"nutriment_silica",value:"",unit:"mg",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"alcohol",label:"nutriment_alcohol",value:"",unit:"% vol",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"potassium",label:"nutriment_potassium",value:"",unit:"mg",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"manganese",label:"nutriment_manganese",value:"",unit:"mg",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"phosphorus",label:"nutriment_phosphorus",value:"",unit:"mg",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"biotin",label:"nutriment_biotin",value:"",unit:"\xb5g",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"ph",label:"nutriment_ph",value:"",unit:null,quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"molybdenum",label:"nutriment_molybdenum",value:"",unit:"\xb5g",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"caffeine",label:"nutriment_caffeine",value:"",unit:"mg",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"chromium",label:"nutriment_chromium",value:"",unit:"\xb5g",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"iron",label:"nutriment_iron",value:"",unit:"mg",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"copper",label:"nutriment_copper",value:"",unit:"mg",quantification:"<",robotoffPrediction:null,display:!1},{off_nutriment_id:"cholesterol",label:"nutriment_cholesterol",value:"",unit:"mg",quantification:"<",robotoffPrediction:null,display:!1}];function C(n){var i=n.setNutriments,t=n.nutriments,e=(0,_.$G)().t,o=r.useState(1),a=(0,l.Z)(o,2),u=a[0],f=a[1],s=r.useState(0),c=(0,l.Z)(s,2),d=c[0],b=c[1],v=r.useState([]),p=(0,l.Z)(v,2),x=p[0],g=p[1],Z=x[d],j=Z?Z.product_name?Z.product_name:e("nutrition.unknown_brand"):e("nutrition.loading");r.useEffect((function(){var n=k.Z.getNutritionToFillUrl({page:u});fetch(n).then((function(n){return n.json()})).then((function(n){g(n.products)}))}),[u]);var C=x[d]?x[d].image_nutrition_url:"https://static.openfoodfacts.org/images/image-placeholder.png";function S(){d<x.length-1?b((function(n){return++n})):(b(0),f((function(n){return++n})));var n=t.filter((function(n){return n.display&&null!==n.value&&n.value>=0})),o=n.length?n:e("nutrition.value_missing");console.log(o),i(w)}return(0,h.jsxs)(m.Z,{flexGrow:1,flexShrink:1,display:"flex",gap:"1em",flexDirection:"column",sx:{maxWidth:"380px",border:"5px solid red",alignItems:"center"},children:[(0,h.jsxs)(m.Z,{display:"flex",flexDirection:"row",Gap:".5em",children:[(0,h.jsx)(y.Z,{onClick:S,color:"secondary",variant:"contained",size:"large",sx:{display:"flex",flexDirection:"column",flexGrow:1,width:"50%"},children:"SKIP"}),(0,h.jsx)(y.Z,{onClick:S,color:"success",variant:"contained",size:"large",sx:{display:"flex",flexDirection:"column",flexGrow:1,width:"50%"},children:"VALIDATE"})]}),(0,h.jsx)(P.Z,{variant:"h5",component:"h5",sx:{alignSelf:"center"},children:j}),(0,h.jsx)(q.Z,{src:C,alt:"",style:{maxWidth:"100%",maxHeight:"100%",border:"5px solid red"}})]})}function S(){var n=r.useState(w),i=(0,l.Z)(n,2),t=i[0],a=i[1],u=r.useCallback((function(n,i){return function(t){a((function(l){return l.map((function(l){return n===l.off_nutriment_id?(0,o.Z)((0,o.Z)({},l),{},(0,e.Z)({},i,t.target.value)):l}))}))}}),[]);return(0,h.jsx)(r.Suspense,{children:(0,h.jsxs)(m.Z,{flexDirection:{xs:"column",md:"row"},gap:2,sx:{display:"flex",width:1,height:1,alignItems:{xs:"center",md:"flex-start"},justifyContent:"center",padding:4,border:"5px solid green",minHeight:"89.4vh"},children:[(0,h.jsx)(C,{setNutriments:a,nutriments:t}),(0,h.jsx)(j,{nutriments:t.filter((function(n){return n.display})),setNutriments:a,onchangeHandler:u,deleteItem:function(n){a((function(i){return i.map((function(i){return i===n?(0,o.Z)((0,o.Z)({},i),{},{display:!1}):i}))}))}})]})})}},7794:function(n,i,t){var e=t(4836);i.Z=void 0;var o=e(t(5511)),l=t(2834),r=(0,o.default)((0,l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");i.Z=r},3941:function(n,i,t){t.d(i,{Z:function(){return v}});var e=t(7462),o=t(3366),l=t(9867),r=t(2026),a=t(6020),u=t(7090),f=t(3078),s=t(5157),c=t(3845);function d(n){return(0,c.Z)("MuiTableContainer",n)}(0,s.Z)("MuiTableContainer",["root"]);var m=t(2834),_=["className","component"],b=(0,f.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:function(n,i){return i.root}})({width:"100%",overflowX:"auto"}),v=l.forwardRef((function(n,i){var t=(0,u.Z)({props:n,name:"MuiTableContainer"}),l=t.className,f=t.component,s=void 0===f?"div":f,c=(0,o.Z)(t,_),v=(0,e.Z)({},t,{component:s}),p=function(n){var i=n.classes;return(0,a.Z)({root:["root"]},d,i)}(v);return(0,m.jsx)(b,(0,e.Z)({ref:i,as:s,className:(0,r.Z)(p.root,l),ownerState:v},c))}))},2371:function(n,i,t){t.d(i,{Z:function(){return x}});var e=t(7462),o=t(3366),l=t(9867),r=t(2026),a=t(6020),u=t(9077),f=t(7090),s=t(3078),c=t(5157),d=t(3845);function m(n){return(0,d.Z)("MuiTableHead",n)}(0,c.Z)("MuiTableHead",["root"]);var _=t(2834),b=["className","component"],v=(0,s.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(n,i){return i.root}})({display:"table-header-group"}),p={variant:"head"},h="thead",x=l.forwardRef((function(n,i){var t=(0,f.Z)({props:n,name:"MuiTableHead"}),l=t.className,s=t.component,c=void 0===s?h:s,d=(0,o.Z)(t,b),x=(0,e.Z)({},t,{component:c}),g=function(n){var i=n.classes;return(0,a.Z)({root:["root"]},m,i)}(x);return(0,_.jsx)(u.Z.Provider,{value:p,children:(0,_.jsx)(v,(0,e.Z)({as:c,className:(0,r.Z)(g.root,l),ref:i,role:c===h?null:"rowgroup",ownerState:x},d))})}))}}]);
//# sourceMappingURL=424.47c62fd0.chunk.js.map